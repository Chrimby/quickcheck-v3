<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B2B Marketing Assessment - The 4R System | Brixon</title>
    <meta name="description" content="Find out where your marketing stands - honest, no fluff. 8-12 minutes for your personalized analysis.">

    <script>
        // Set HTML lang and meta tags based on URL
        (function() {
            const path = window.location.pathname.toLowerCase();
            const isDe = path.includes('/de/');

            if (isDe) {
                document.documentElement.lang = 'de';
                document.title = 'B2B Marketing Assessment - Das 4R-System | Brixon';
                document.querySelector('meta[name="description"]').content = 'Finden Sie heraus, wo Ihr Marketing steht - ehrlich, ohne Schnickschnack. 8-12 Minuten für Ihre personalisierte Analyse.';
            }
        })();
    </script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    
    <style>
        /* CSS Custom Properties */
        :root {
            --color-black: #0a0a0a;
            --color-white: #ffffff;
            --color-accent: #f7e74f;
            --color-gray-50: #fafafa;
            --color-gray-100: #f5f5f5;
            --color-gray-200: #e5e5e5;
            --color-gray-300: #d4d4d4;
            --color-gray-400: #a3a3a3;
            --color-gray-500: #666666;
            --color-gray-600: #525252;
            --color-gray-700: #404040;
            --color-gray-800: #262626;
            --color-gray-900: #171717;

            --color-primary: #111111;
            --color-primary-strong: #0a0a0a;
            --color-secondary: #2f2f2f;
            --color-highlight: var(--color-accent);
            --progress-shadow: 0 18px 36px rgba(0, 0, 0, 0.12);
            --color-reach: var(--color-secondary);
            --color-relate: rgba(17, 17, 17, 0.7);
            --color-respond: rgba(17, 17, 17, 0.7);
            --color-retain: rgba(17, 17, 17, 0.7);
            --color-overall: rgba(17, 17, 17, 0.75);

            --font-heading: "area-extended", Sans-serif;
            --font-body: var(--e-global-typography-text-font-family, "area-normal"), Sans-serif;
            --font-base: var(--font-body);

            --radius: 12px;
            --border: 1px solid var(--color-gray-200);
        }
        
        /* Reset & Base */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-base);
            background: transparent;
            color: var(--color-black);
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Typography */
        h1, h2, h3 {
            font-family: var(--font-heading);
            font-weight: 600;
            line-height: 1.2;
            letter-spacing: -0.025em;
        }
        
        h1 {
            font-size: clamp(2rem, 4vw, 2.5rem);
        }
        
        h2 {
            font-size: clamp(1.5rem, 3vw, 2rem);
        }
        
        h3 {
            font-size: clamp(1.125rem, 2vw, 1.5rem);
        }
        
        /* Container */
        .container {
            max-width: 760px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }
        
        .container-wide {
            max-width: 1120px;
            margin: 0 auto;
            padding: 2rem 1.5rem;
        }
        
        /* Progress Bar */
        .progress-wrapper {
            position: relative;
            z-index: 5;
            padding: 1.5rem 0 1rem;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(6px);
            border-bottom: 1px solid rgba(10, 10, 10, 0.06);
        }
        
        .progress-container {
            max-width: 920px;
            margin: 0 auto;
            padding: 0 1.5rem;
            display: grid;
            gap: 0.45rem;
        }

        .progress-overall-track {
            position: relative;
            height: 6px;
            background: rgba(10, 10, 10, 0.08);
            border-radius: 999px;
            overflow: hidden;
        }

        .progress-overall-fill {
            height: 100%;
            background: var(--color-highlight);
            border-radius: inherit;
            transition: width 0.35s ease;
            box-shadow: 0 0 0 rgba(247, 231, 79, 0);
        }

        .progress-labels {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.82rem;
            color: rgba(17, 17, 17, 0.6);
        }

        .progress-labels strong {
            font-size: 0.88rem;
            color: var(--color-primary-strong);
            font-weight: 600;
        }

        .progress-labels.secondary {
            justify-content: flex-end;
            font-size: 0.75rem;
            color: rgba(17, 17, 17, 0.45);
        }
        
        /* Main Content */
        .main-content {
            margin-top: 2rem;
            min-height: calc(100vh - 200px);
        }
        
        /* Welcome Screen */
        .welcome-shell {
            padding: 4rem 0 6rem;
        }

        .welcome-screen {
            position: relative;
            display: grid;
            grid-template-columns: minmax(0, 0.9fr) minmax(0, 1fr);
            gap: 3rem;
            align-items: stretch;
            padding: 3.25rem;
            border-radius: calc(var(--radius) * 2.4);
            background: rgba(255, 255, 255, 0.98);
            border: 1px solid rgba(17, 17, 17, 0.08);
            box-shadow: 0 36px 95px rgba(10, 10, 10, 0.14);
            overflow: hidden;
        }

        .welcome-screen::before,
        .welcome-screen::after {
            content: '';
            position: absolute;
            pointer-events: none;
            border-radius: inherit;
        }

        .welcome-screen::before {
            inset: 0;
            background: linear-gradient(135deg, rgba(10, 10, 10, 0.04), transparent 55%);
        }

        .welcome-screen::after {
            inset: 0;
            background: linear-gradient(120deg, transparent 70%, rgba(247, 231, 79, 0.12));
        }

        .welcome-content,
        .welcome-media {
            position: relative;
            z-index: 1;
        }

        .welcome-media {
            display: grid;
            gap: 1.65rem;
            padding: 2.25rem;
            border-radius: calc(var(--radius) * 2);
            background: #0b0b0b;
            color: var(--color-white);
            box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.05);
            overflow: hidden;
        }

        .welcome-media::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(160deg, rgba(255, 255, 255, 0.05), transparent 60%);
            opacity: 1;
            pointer-events: none;
        }

        .welcome-media-photo {
            position: relative;
            width: 100%;
            border-radius: calc(var(--radius) * 1.4);
            overflow: hidden;
            aspect-ratio: 4 / 3;
            box-shadow: 0 24px 46px rgba(0, 0, 0, 0.35);
        }

        .welcome-media-photo img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: saturate(0.05) brightness(1.05);
        }

        .welcome-media-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
            padding: 0.35rem 0.85rem;
            font-size: 0.75rem;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            font-weight: 600;
            background: rgba(247, 231, 79, 0.15);
            border-radius: 999px;
            color: var(--color-highlight);
            box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.25);
        }

        .welcome-media-quote {
            font-size: 28px !important;
            line-height: 1.4;
            font-weight: 600;
            letter-spacing: -0.01em;
        }

        .welcome-media-text {
            font-size: 0.95rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.82);
        }

        .welcome-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .welcome-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: var(--color-highlight);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 1.15rem;
            color: var(--color-black);
            box-shadow: 0 10px 24px rgba(247, 231, 79, 0.4);
        }

        .welcome-meta-name {
            font-weight: 600;
            color: var(--color-white);
            display: block;
        }

        .welcome-meta-role {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
        }

        .welcome-content {
            display: grid;
            gap: 1.6rem;
            color: var(--color-black);
            align-content: center;
        }

        .welcome-eyebrow {
            font-size: 0.75rem;
            letter-spacing: 0.16em;
            text-transform: uppercase;
            font-weight: 700;
            color: var(--color-highlight);
        }
        
        .welcome-screen h1 {
            margin: 0;
        }
        
        .welcome-subtitle {
            font-size: 1.05rem;
            color: rgba(30, 41, 59, 0.72);
            font-weight: 400;
            line-height: 1.7;
        }

        .welcome-stats {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            align-items: center;
        }
        
        .welcome-duration {
            display: inline-flex;
            align-items: center;
            gap: 0.45rem;
            padding: 0.45rem 0.95rem;
            background: rgba(17, 17, 17, 0.08);
            border: 1px solid rgba(17, 17, 17, 0.12);
            border-radius: 999px;
            font-size: 0.85rem;
            color: var(--color-primary-strong);
            font-weight: 500;
        }

        .welcome-duration svg {
            color: var(--color-highlight);
        }

        .welcome-pill {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            padding: 0.45rem 1rem;
            font-size: 0.85rem;
            border-radius: 999px;
            background: rgba(247, 231, 79, 0.14);
            color: rgba(17, 17, 17, 0.85);
            font-weight: 500;
            border: 1px solid rgba(247, 231, 79, 0.3);
        }

        .welcome-cta-group {
            display: flex;
            flex-direction: column;
            gap: 1.1rem;
        }

        .welcome-trust {
            font-size: 0.92rem;
            color: rgba(30, 41, 59, 0.6);
            max-width: 26rem;
        }

        @media (max-width: 1024px) {
            .welcome-screen {
                grid-template-columns: 1fr;
                padding: 2.75rem;
            }

            .welcome-media {
                order: -1;
            }
        }

        @media (max-width: 640px) {
            .welcome-shell {
                padding: 3rem 0 4rem;
            }

            .welcome-screen {
                padding: 2rem;
                gap: 2.25rem;
            }

            .welcome-media,
            .welcome-content {
                gap: 1.25rem;
            }

            .welcome-media-photo {
                aspect-ratio: 16 / 12;
            }
        }
        
        /* Question Card */
        .question-card {
            background: var(--color-white);
            border: var(--border);
            border-radius: var(--radius);
            padding: 2.5rem 2rem;
            margin-bottom: 1.5rem;
            opacity: 0;
            animation: fadeInUp 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        .phase-overview {
            text-align: left;
            background: rgba(10, 10, 10, 0.04);
            border: 1px solid rgba(10, 10, 10, 0.12);
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(12px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .question-number {
            display: inline-block;
            font-size: 0.8125rem;
            font-weight: 500;
            color: var(--color-gray-500);
            margin-bottom: 0.75rem;
        }
        
        .phase-intro-eyebrow {
            display: inline-block;
            font-size: 0.75rem;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            font-weight: 600;
            color: var(--color-gray-500);
        }

        .phase-intro-title {
            margin: 0.5rem 0 0.35rem;
            font-size: 1.15rem;
            font-weight: 600;
            color: var(--color-black);
        }

        .phase-intro-text {
            margin: 0;
            font-size: 0.95rem;
            color: var(--color-gray-700);
            line-height: 1.6;
        }

        .question-text {
            font-size: 1.125rem;
            font-weight: 500;
            margin-bottom: 1.5rem;
            color: var(--color-black);
            line-height: 1.4;
        }
        
        .question-hint {
            font-size: 0.875rem;
            color: var(--color-gray-500);
            margin-top: -0.75rem;
            margin-bottom: 1.25rem;
        }
        
        /* Options */
        .options {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .option {
            position: relative;
            display: flex;
            align-items: center;
            padding: 0.875rem 1rem;
            background: var(--color-white);
            border: var(--border);
            border-radius: var(--radius);
            cursor: pointer;
            transition: all 0.15s ease;
        }
        
        .option:hover {
            background: var(--color-gray-50);
            border-color: var(--color-gray-300);
        }
        
        .option.selected {
            background: var(--color-gray-50);
            border-color: var(--color-black);
        }
        
        .option input[type="radio"],
        .option input[type="checkbox"] {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }
        
        .option-radio,
        .option-checkbox {
            width: 18px;
            height: 18px;
            border: var(--border);
            border-radius: 50%;
            margin-right: 0.75rem;
            flex-shrink: 0;
            transition: all 0.15s ease;
        }
        
        .option-checkbox {
            border-radius: 4px;
        }
        
        .option:hover .option-radio,
        .option:hover .option-checkbox {
            border-color: var(--color-gray-400);
        }
        
        .option.selected .option-radio,
        .option.selected .option-checkbox {
            border-color: var(--color-black);
            background: var(--color-black);
            position: relative;
        }
        
        .option.selected .option-radio::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 6px;
            height: 6px;
            background: var(--color-white);
            border-radius: 50%;
        }
        
        .option.selected .option-checkbox::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--color-white);
            font-size: 12px;
            line-height: 1;
        }
        
        .option-label {
            font-size: 0.9375rem;
            color: var(--color-black);
            font-weight: 400;
        }
        
        .option.selected .option-label {
            font-weight: 500;
        }

        /* Focus Indicators for Accessibility */
        .option:has(input:focus-visible) {
            outline: 2px solid var(--color-black);
            outline-offset: 2px;
            border-color: var(--color-black);
        }

        .option input[type="radio"]:focus-visible ~ .option-radio,
        .option input[type="checkbox"]:focus-visible ~ .option-checkbox {
            box-shadow: 0 0 0 3px rgba(10, 10, 10, 0.1);
        }

        /* Text Input */
        .text-input-wrapper {
            margin-top: 0.5rem;
        }
        
        .text-input {
            width: 100%;
            padding: 0.75rem 1rem;
            font-size: 0.9375rem;
            font-family: var(--font-base);
            border: var(--border);
            border-radius: var(--radius);
            outline: none;
            transition: border-color 0.15s ease;
        }
        
        .text-input:focus {
            border-color: var(--color-gray-400);
        }
        
        .text-input::placeholder {
            color: var(--color-gray-400);
        }
        
        .text-area {
            min-height: 100px;
            resize: vertical;
        }
        
        /* Buttons */
        .btn {
            display: inline-flex !important;
            align-items: center !important;
            justify-content: center !important;
            gap: 0.5rem !important;
            padding: 0.9rem 1.9rem !important;
            font-size: 1rem !important;
            font-weight: 600 !important;
            font-family: var(--font-base) !important;
            background: rgba(10, 10, 10, 0.08) !important;
            color: var(--color-black) !important;
            border: 1px solid rgba(10, 10, 10, 0.18) !important;
            border-radius: var(--radius) !important;
            cursor: pointer !important;
            transition: all 0.18s ease !important;
            text-decoration: none !important;
            box-sizing: border-box !important;
            line-height: 1 !important;
        }

        .btn-primary {
            background: var(--color-black) !important;
            color: var(--color-white) !important;
            border-color: transparent !important;
        }

        .btn-primary:hover:not(:disabled) {
            background: var(--color-gray-800) !important;
            transform: translateY(-1px) !important;
        }

        .btn-primary:disabled {
            opacity: 0.5 !important;
            cursor: not-allowed !important;
        }

        .btn-secondary {
            background: rgba(10, 10, 10, 0.12) !important;
            color: var(--color-black) !important;
            border: 1px solid rgba(10, 10, 10, 0.24) !important;
        }

        .btn-secondary:hover {
            background: rgba(10, 10, 10, 0.18) !important;
            border-color: rgba(10, 10, 10, 0.3) !important;
            transform: translateY(-1px) !important;
        }

        .btn:focus-visible {
            outline: 2px solid rgba(247, 231, 79, 0.8) !important;
            outline-offset: 2px !important;
        }
        
        .btn-group {
            display: flex;
            gap: 0.75rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .phase-overview .btn-group {
            margin-top: 1.75rem;
        }

        .btn-group.justify-between {
            justify-content: space-between;
        }

        .btn-group.justify-end {
            justify-content: flex-end;
        }
        
        .arrow {
            font-size: 1rem;
            transition: transform 0.15s ease;
        }
        
        .btn:hover .arrow {
            transform: translateX(2px);
        }
        
        /* Results */
        .results-header {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .results-header h1 {
            margin-bottom: 0.5rem;
        }
        
        .results-subtitle {
            font-size: 1rem;
            color: var(--color-gray-600);
        }
        
        .results-overview {
            background: var(--color-white);
            border: var(--border);
            border-radius: calc(var(--radius) * 1.35);
            padding: clamp(1.75rem, 2.8vw, 2.5rem);
            margin-bottom: 2.75rem;
            display: grid;
            gap: 1.75rem;
        }

        .overview-top {
            display: flex;
            flex-wrap: wrap;
            gap: 1.75rem;
            align-items: flex-start;
            justify-content: space-between;
        }

        .overview-heading {
            display: grid;
            gap: 0.4rem;
            max-width: 520px;
        }

        .overview-eyebrow {
            font-size: 0.75rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--color-gray-500);
            font-weight: 600;
        }

        .overview-title {
            margin: 0;
            font-size: clamp(1.7rem, 2.8vw, 2.2rem);
            font-weight: 600;
            color: var(--color-black);
        }

        .overview-subtitle {
            margin: 0;
            font-size: 0.95rem;
            color: var(--color-gray-600);
        }

        .overview-score {
            display: grid;
            gap: 0.65rem;
            min-width: 220px;
        }

        .overview-score-row {
            display: flex;
            align-items: baseline;
            gap: 0.65rem;
        }

        .overview-score-value {
            font-family: var(--font-heading);
            font-size: clamp(2.8rem, 4vw, 3.3rem);
            font-weight: 600;
            color: var(--color-black);
            line-height: 1;
        }

        .overview-score-max {
            color: var(--color-gray-400);
            font-size: 0.95rem;
        }

        .overview-progress {
            height: 8px;
            border-radius: 999px;
            background: rgba(10, 10, 10, 0.08);
            overflow: hidden;
        }

        .overview-progress-fill {
            height: 100%;
            border-radius: inherit;
            background: var(--color-black);
        }

        .overview-percentage {
            font-weight: 600;
            color: var(--color-black);
            font-size: 0.95rem;
        }

        .overview-insight {
            display: grid;
            gap: 0.5rem;
        }

        .overview-insight-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 0;
            color: var(--color-black);
        }

        .overview-insight-text {
            margin: 0;
            font-size: 0.95rem;
            color: var(--color-gray-700);
            line-height: 1.6;
        }

        .overview-highlights {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 0.9rem;
        }

        .overview-highlight {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
            padding: 0.85rem 1rem;
            border-radius: calc(var(--radius) * 1.1);
            background: rgba(10, 10, 10, 0.04);
            font-size: 0.92rem;
            color: var(--color-gray-600);
        }

        .overview-highlight strong {
            font-weight: 600;
            color: var(--color-black);
            font-variant-numeric: tabular-nums;
        }

        .phase-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: clamp(1.35rem, 2.5vw, 1.75rem);
            margin-bottom: 2.5rem;
        }

        @media (min-width: 1024px) {
            .phase-grid {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }

        .phase-card {
            background: var(--color-white);
            border: var(--border);
            border-radius: calc(var(--radius) * 1.35);
            padding: clamp(1.5rem, 2.5vw, 2.2rem);
            display: grid;
            gap: 1.1rem;
        }

        .phase-card-header {
            display: flex;
            flex-direction: column;
            gap: 0.45rem;
        }

        .phase-eyebrow {
            font-size: 0.75rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: var(--color-gray-500);
            font-weight: 600;
        }

        .phase-title {
            margin: 0;
            font-size: 1.35rem;
            font-weight: 600;
            color: var(--color-black);
        }

        .phase-subtitle {
            margin: 0;
            font-size: 0.92rem;
            color: var(--color-gray-600);
        }

        .phase-score {
            display: flex;
            align-items: baseline;
            gap: 0.65rem;
        }

        .phase-score-value {
            font-family: var(--font-heading);
            font-size: 2.4rem;
            font-weight: 600;
            color: var(--color-black);
        }

        .phase-score-max {
            color: var(--color-gray-400);
            font-size: 0.9rem;
        }

        .phase-progress {
            height: 6px;
            border-radius: 999px;
            background: rgba(10, 10, 10, 0.08);
            overflow: hidden;
        }

        .phase-progress-fill {
            height: 100%;
            border-radius: inherit;
            background: var(--color-black);
        }

        .phase-percentage {
            font-weight: 600;
            color: var(--color-gray-600);
            font-size: 0.92rem;
        }

        .phase-insight {
            display: grid;
            gap: 0.45rem;
        }

        .phase-insight-title {
            font-size: 1rem;
            font-weight: 600;
            margin: 0;
            color: var(--color-black);
        }

        .phase-insight-text {
            margin: 0;
            font-size: 0.92rem;
            color: var(--color-gray-700);
            line-height: 1.55;
        }

        .results-chart {
            background: var(--color-white);
            border: var(--border);
            border-radius: calc(var(--radius) * 1.35);
            padding: clamp(1.75rem, 2.5vw, 2.25rem);
            margin-bottom: 2.5rem;
            display: grid;
            gap: 1.25rem;
        }

        .chart-heading {
            display: grid;
            gap: 0.4rem;
        }

        .section-eyebrow {
            font-size: 0.75rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: var(--color-gray-500);
            font-weight: 600;
        }

        .chart-title {
            margin: 0;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--color-black);
        }

        .chart-note {
            margin: 0;
            font-size: 0.85rem;
            color: var(--color-gray-500);
        }

        .chart-area {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 260px;
        }

        #radarChart {
            max-width: 100%;
            height: auto;
        }

        .results-recommendations {
            background: var(--color-white);
            border: var(--border);
            border-radius: calc(var(--radius) * 1.35);
            padding: clamp(1.75rem, 2.5vw, 2.25rem);
            margin-bottom: 3rem;
            display: grid;
            gap: 1.5rem;
        }

        .section-title {
            margin: 0;
            font-size: 1.35rem;
            font-weight: 600;
            color: var(--color-black);
        }

        .recommendation-list {
            display: grid;
            gap: 1rem;
        }

        .recommendation-item {
            position: relative;
            isolation: isolate;
            padding: 1.25rem 1.35rem 1.4rem;
            border-radius: calc(var(--radius) * 1.3);
            border: 1px solid rgba(148, 163, 184, 0.18);
            background: linear-gradient(140deg, rgba(255, 255, 255, 0.98), rgba(244, 244, 255, 0.92));
            box-shadow: 0 22px 48px rgba(15, 23, 42, 0.08);
            display: grid;
            gap: 0.6rem;
            --rec-accent: var(--color-primary);
            --rec-accent-bg: rgba(99, 102, 241, 0.15);
            --rec-accent-border: rgba(99, 102, 241, 0.28);
        }

        .recommendation-item::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: inherit;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.65), transparent 65%);
            opacity: 0;
            transition: opacity 0.35s ease;
            pointer-events: none;
        }

        .recommendation-item:hover::before {
            opacity: 1;
        }

        .recommendation-item[data-phase="reach"] {
            --rec-accent: rgba(17, 17, 17, 0.82);
            --rec-accent-bg: rgba(17, 17, 17, 0.08);
            --rec-accent-border: rgba(17, 17, 17, 0.16);
        }

        .recommendation-item[data-phase="relate"] {
            --rec-accent: rgba(17, 17, 17, 0.7);
            --rec-accent-bg: rgba(17, 17, 17, 0.06);
            --rec-accent-border: rgba(17, 17, 17, 0.12);
        }

        .recommendation-item[data-phase="respond"] {
            --rec-accent: rgba(17, 17, 17, 0.7);
            --rec-accent-bg: rgba(17, 17, 17, 0.06);
            --rec-accent-border: rgba(17, 17, 17, 0.12);
        }

        .recommendation-item[data-phase="retain"] {
            --rec-accent: rgba(17, 17, 17, 0.7);
            --rec-accent-bg: rgba(17, 17, 17, 0.06);
            --rec-accent-border: rgba(17, 17, 17, 0.12);
        }

        .recommendation-item[data-phase="overall"] {
            --rec-accent: var(--color-highlight);
            --rec-accent-bg: rgba(247, 231, 79, 0.16);
            --rec-accent-border: rgba(247, 231, 79, 0.32);
        }
        
        .recommendation-phase {
            display: inline-flex;
            align-items: center;
            gap: 0.55rem;
            padding: 0.45rem 0.9rem;
            border-radius: 999px;
            background: var(--rec-accent-bg);
            border: 1px solid var(--rec-accent-border);
            font-size: 0.78rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            font-weight: 600;
            color: rgba(15, 23, 42, 0.68);
        }

        .recommendation-phase-dot {
            width: 0.65rem;
            height: 0.65rem;
            border-radius: 999px;
            background: var(--rec-accent);
            box-shadow: 0 0 0 3px rgba(255, 255, 255, 0.7);
        }

        .recommendation-phase-badge {
            font-size: 0.7rem;
            letter-spacing: 0.12em;
            font-weight: 700;
        }

        .recommendation-phase strong {
            font-size: 0.82rem;
            letter-spacing: 0.02em;
            text-transform: none;
            color: var(--rec-accent);
        }
        
        .recommendation-meta {
            font-size: 0.82rem;
            letter-spacing: 0.08em;
            text-transform: uppercase;
            color: rgba(30, 41, 59, 0.55);
            font-weight: 600;
        }
        
        .recommendation-title {
            font-weight: 600;
            font-size: 1.05rem;
            margin: 0;
            color: rgba(15, 23, 42, 0.92);
        }
        
        .recommendation-text {
            font-size: 0.95rem;
            color: rgba(30, 41, 59, 0.7);
            line-height: 1.6;
            margin: 0;
        }
        
        /* Contact Form */
        .contact-form {
            background: var(--color-white);
            border: var(--border);
            border-radius: var(--radius);
            padding: 2rem;
            margin-bottom: 2rem;
        }
        
        .form-group {
            margin-bottom: 1.25rem;
        }
        
        .form-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--color-black);
            margin-bottom: 0.5rem;
        }
        
        .form-input {
            width: 100%;
            padding: 0.75rem 1rem;
            font-size: 0.9375rem;
            font-family: var(--font-base);
            border: var(--border);
            border-radius: var(--radius);
            outline: none;
            transition: border-color 0.15s ease;
        }
        
        .form-input:focus {
            border-color: var(--color-gray-400);
        }
        
        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .checkbox-wrapper {
            display: flex;
            align-items: start;
            gap: 0.75rem;
        }
        
        .checkbox-input {
            width: 18px;
            height: 18px;
            border: var(--border);
            border-radius: 4px;
            cursor: pointer;
            flex-shrink: 0;
            margin-top: 2px;
        }
        
        .checkbox-label {
            font-size: 0.875rem;
            color: var(--color-gray-600);
            line-height: 1.5;
        }
        
        /* Success Message */
        .success-container {
            text-align: center;
            padding: 6rem 0;
        }
        
        .success-icon {
            width: 64px;
            height: 64px;
            background: var(--color-gray-50);
            border: var(--border);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
        }
        
        .success-icon svg {
            width: 32px;
            height: 32px;
            stroke: var(--color-black);
        }
        
        .success-title {
            margin-bottom: 0.75rem;
        }
        
        .success-text {
            font-size: 1rem;
            color: var(--color-gray-600);
            margin-bottom: 2rem;
        }
        
        /* Responsive */
        @media (max-width: 1024px) {
            .container-wide {
                max-width: 100%;
                padding: 2rem 1.5rem;
            }

            .overview-top {
                flex-direction: column;
                align-items: flex-start;
                gap: 1.25rem;
            }

            .overview-score {
                width: 100%;
            }

            .cta-section {
                grid-template-columns: minmax(0, 1fr) minmax(140px, 200px);
                gap: 2rem;
            }

            .chart-area {
                min-height: 280px;
            }
        }
        
        @media (max-width: 820px) {
            .cta-section {
                grid-template-columns: 1fr;
                text-align: left;
            }

            .cta-content {
                max-width: 620px;
            }

            .cta-media {
                justify-self: start;
                width: clamp(140px, 30vw, 200px);
            }
        }

        @media (max-width: 720px) {
            .phase-grid {
                grid-template-columns: 1fr;
            }

            .overview-highlights {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 640px) {
            .container,
            .container-wide,
            .progress-container {
                padding: 0 1rem;
            }
            
            .question-card {
                padding: 1.5rem 1.25rem;
            }
            
            .question-text {
                font-size: 1.125rem;
            }
            
            .option {
                padding: 1rem 0.875rem;
                min-height: 52px;
            }
            
            .option-label {
                font-size: 1rem;
                line-height: 1.4;
            }
            
            .option-radio,
            .option-checkbox {
                width: 20px;
                height: 20px;
                margin-right: 0.875rem;
            }
            
            .btn-group {
                flex-direction: column;
            }

            .btn {
                width: 100% !important;
                padding: 1rem 1.75rem !important;
            }
            
            .cta-section {
                grid-template-columns: 1fr;
                padding: 2rem 1.5rem;
                text-align: center;
            }

            .cta-content {
                align-items: center;
                text-align: center;
                gap: 1.25rem;
            }

            .cta-heading {
                font-size: 1.5rem;
            }

            .cta-text {
                max-width: none;
            }

            .cta-list {
                width: 100%;
                text-align: left;
                gap: 0.5rem;
            }

            .cta-list li {
                justify-content: flex-start;
            }

            .cta-media {
                order: -1;
                margin: 0 auto 1.5rem;
                width: clamp(180px, 60vw, 220px);
            }

            .btn-cta {
                width: 100%;
                justify-content: center;
                padding: 1rem 1.5rem;
                font-size: 0.95rem;
            }

            .results-overview,
            .results-chart,
            .results-recommendations,
            .phase-card {
                padding: 1.5rem 1.35rem;
            }

            .chart-area {
                min-height: 220px;
            }

            .overview-score-value {
                font-size: 2.45rem;
            }

            .phase-score-value {
                font-size: 2.1rem;
            }
        }
        
        @media (max-width: 375px) {
            .welcome-screen {
                padding: 4rem 0 3rem;
            }
            
            .question-card {
                padding: 1.25rem 1rem;
            }
            
            .question-text {
                font-size: 1rem;
            }
            
            .option {
                padding: 0.875rem 0.75rem;
            }
            
            .phase-score-value {
                font-size: 1.9rem;
            }
        }
        
        /* Utilities */
        .hidden {
            display: none;
        }
        
        .fade-in {
            animation: fadeIn 0.4s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .fade-out {
            animation: fadeOut 0.3s ease forwards;
        }
        
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        
        /* CTA Section */
        .cta-section {
            position: relative;
            display: grid;
            grid-template-columns: minmax(0, 1fr) minmax(160px, 220px);
            gap: 2.5rem;
            align-items: center;
            background: linear-gradient(135deg, rgba(247, 231, 79, 0.22), rgba(10, 10, 10, 0.03));
            border: 1px solid rgba(247, 231, 79, 0.45);
            border-radius: calc(var(--radius) * 1.6);
            padding: clamp(2rem, 3vw, 3rem);
            margin: 3.5rem 0 2.5rem;
            overflow: hidden;
        }

        .cta-section::after {
            content: "";
            position: absolute;
            inset: 18% -15% -40% 55%;
            background: radial-gradient(circle at center, rgba(247, 231, 79, 0.35), transparent 65%);
            z-index: 0;
        }
        
        .cta-content {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            text-align: left;
        }

        .cta-eyebrow {
            font-size: 0.75rem;
            font-weight: 600;
            letter-spacing: 0.18em;
            text-transform: uppercase;
            color: var(--color-gray-500);
        }
        
        .cta-heading {
            font-size: clamp(1.55rem, 2.5vw, 1.95rem);
            font-weight: 600;
            color: var(--color-black);
            line-height: 1.2;
            margin: 0;
        }
        
        .cta-text {
            font-size: 1rem;
            color: var(--color-gray-700);
            line-height: 1.7;
            margin: 0;
            max-width: 540px;
        }
        
        .cta-list {
            display: grid;
            gap: 0.75rem;
            list-style: none;
            padding: 0;
            margin: 0;
            color: var(--color-gray-700);
        }

        .cta-list li {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 0.9375rem;
        }

        .cta-list li::before {
            content: "";
            width: 12px;
            height: 12px;
            border-radius: 999px;
            background: var(--color-black);
            box-shadow: 0 0 0 4px rgba(247, 231, 79, 0.35);
        }
        
        .btn-cta {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.6rem;
            padding: 1rem 2.25rem;
            font-size: 1rem;
            font-weight: 500;
            font-family: var(--font-base);
            background: var(--color-black);
            color: var(--color-white);
            border: none;
            border-radius: calc(var(--radius) * 1.4);
            cursor: pointer;
            transition: transform 0.18s ease, box-shadow 0.18s ease, background 0.18s ease;
            text-decoration: none;
            box-shadow: 0 16px 24px rgba(10, 10, 10, 0.25);
        }
        
        .btn-cta:hover {
            background: #000;
            transform: translateY(-2px);
            box-shadow: 0 20px 32px rgba(10, 10, 10, 0.25);
        }

        .btn-cta:focus-visible {
            outline: 2px solid rgba(247, 231, 79, 0.8);
            outline-offset: 3px;
        }

        .cta-media {
            position: relative;
            z-index: 1;
            width: clamp(160px, 22vw, 240px);
            aspect-ratio: 3 / 4;
            border-radius: calc(var(--radius) * 1.8);
            overflow: hidden;
            box-shadow: 0 28px 46px rgba(10, 10, 10, 0.28);
            border: 3px solid rgba(255, 255, 255, 0.85);
        }

        .cta-avatar {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* Reduced Motion Support */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }

            .question-card,
            .fade-in,
            .fade-out {
                animation: none;
                opacity: 1;
            }

            .progress-overall-fill {
                transition: none;
            }
        }

        /* ========================================
           MOBILE UX FIXES - 2025-10-17
           Critical fixes for touch targets, layout shifts, and mobile optimization
           Based on comprehensive design review findings
           ======================================== */

        /* Fix #1 & #2: Touch Targets - WCAG 2.1 Compliance */
        .btn {
            min-height: 44px !important;
        }

        .option-radio,
        .option-checkbox {
            width: 24px !important;
            height: 24px !important;
        }

        /* Fix #3: Option Spacing - Prevent Accidental Taps */
        .options {
            gap: 0.75rem;
        }

        /* Fix #5: Progress Bar Performance - Prevent Reflow */
        .progress-wrapper {
            contain: layout;
        }

        /* Mobile Breakpoint: 640px (Tablets & Small Laptops) */
        @media (max-width: 640px) {
            /* Fix #1: Larger touch targets */
            .btn {
                padding: 1.125rem 1.75rem !important;
                min-height: 48px !important;
            }

            /* Fix #2: Larger radio/checkbox */
            .option-radio,
            .option-checkbox {
                width: 26px !important;
                height: 26px !important;
            }

            /* Fix #3: Better option spacing */
            .options {
                gap: 1rem;
            }

            .option {
                padding: 1rem 0.875rem;
                min-height: 54px;
            }

            /* Fix #4: Disable animations to prevent layout shift */
            .question-card {
                opacity: 1 !important;
                animation: none !important;
                transform: none !important;
            }

            .question-card.fade-out {
                animation: none !important;
                opacity: 1 !important;
            }

            /* Fix #7: Improved readability */
            .progress-labels {
                font-size: 0.875rem !important;
            }

            .progress-labels.secondary {
                font-size: 0.8125rem !important;
            }

            .question-helper-text {
                font-size: 0.9375rem;
                line-height: 1.6;
            }

            /* Fix #8: Button group spacing */
            .btn-group {
                gap: 1rem;
            }

            /* Fix #9: Welcome quote line-height too large on mobile */
            .welcome-media-quote {
                line-height: 1.25 !important;
                font-size: 24px !important;
            }

            /* Fix #10: Prevent content shift on start - disable question card initial animation */
            .question-card {
                opacity: 1 !important;
                animation: none !important;
                transform: none !important;
            }

            /* Fix #11: CTA section should be single column on mobile */
            .cta-section {
                grid-template-columns: 1fr !important;
                gap: 2rem !important;
                text-align: center !important;
            }

            .cta-content {
                align-items: center !important;
                text-align: center !important;
            }

            .cta-media {
                justify-self: center !important;
                width: clamp(120px, 25vw, 160px) !important;
            }
        }

        /* Mobile Breakpoint: 430px (iPhone 12/13/14 Pro Max) */
        @media (max-width: 430px) {
            .question-card {
                padding: 1.75rem 1.5rem;
            }

            .welcome-screen,
            .phase-overview {
                padding: 2.5rem 1.25rem;
            }

            .question-text {
                font-size: 1.0625rem;
                line-height: 1.5;
            }

            .option {
                padding: 1.125rem 1rem;
                min-height: 56px;
            }

            .btn {
                min-height: 52px !important;
            }
        }

        /* Mobile Breakpoint: 375px (iPhone SE, older Android) */
        @media (max-width: 375px) {
            .question-card {
                padding: 1.5rem 1.25rem;
            }

            .question-text {
                font-size: 1rem;
                line-height: 1.5;
            }

            .option {
                padding: 1rem 0.75rem;
            }
        }

    </style>
    
    <script>
        // Language Detection
        const detectLanguage = () => {
            const path = window.location.pathname.toLowerCase();
            if (path.includes('/de/')) return 'de';
            if (path.includes('/en/')) return 'en';
            return 'en'; // Default to English
        };

        const CURRENT_LANG = detectLanguage();

        const CONFIG = {
            webhookUrl: 'YOUR_WEBHOOK_URL_HERE',
            calendlyUrl: 'https://calendly.com/sauerborn-brixongroup/10-to-100-leads-system-call',
            tracking: {
                googleTagManagerId: '',
                googleAnalyticsId: '',
                metaPixelId: '',
                linkedinPartnerId: '',
                linkedinEventIds: {
                    assessment_started: '',
                    question_answered: '',
                    results_viewed: '',
                    cta_clicked: ''
                }
            }
        };

        const TRANSLATIONS = {
            de: {
                questions: [
                // REACH SECTION
                {
                    id: 'q_101',
                    section: 'reach',
                    sectionTitle: 'Phase 1: Reach - Werden Sie überhaupt gefunden?',
                    text: 'Wie aktiv sind Sie oder Ihre Führungskräfte persönlich auf LinkedIn?',
                    hint: 'Wichtig: Wir meinen persönliche Profile, nicht die Unternehmensseite. Menschen folgen Menschen, nicht Unternehmen.',
                    type: 'single',
                    options: [
                        { value: '0', label: 'LinkedIn? Haben wir nicht oder nutzen wir nicht', score: 0 },
                        { value: '1', label: 'Profil existiert, aber wir posten nie', score: 1 },
                        { value: '2', label: 'Ab und zu posten wir was (1-2x im Monat)', score: 2 },
                        { value: '3', label: 'Regelmäßig aktiv (mehrmals pro Woche)', score: 3 },
                        { value: '4', label: 'Sehr aktiv mit strategischem Content', score: 4 },
                        { value: '5', label: 'Täglich präsent, Engagement messbar steigend', score: 5 }
                    ]
                },
                {
                    id: 'q_102',
                    section: 'reach',
                    text: 'Worüber schreiben Sie hauptsächlich, wenn Sie Content erstellen?',
                    type: 'single',
                    options: [
                        { value: 'products', label: 'Über unsere Produkte und Leistungen', score: 1 },
                        { value: 'company', label: 'Über unser Unternehmen und Erfolge', score: 1 },
                        { value: 'industry', label: 'Über allgemeine Branchen-News', score: 2 },
                        { value: 'problems', label: 'Über konkrete Probleme unserer Zielgruppe', score: 5 },
                        { value: 'experience', label: 'Über unsere praktischen Erfahrungen aus echten Projekten', score: 5 },
                        { value: 'none', label: 'Wir erstellen aktuell keinen Content', score: 0 }
                    ]
                },
                {
                    id: 'q_103',
                    section: 'reach',
                    text: 'Haben Sie Lead-Magneten, für die Menschen Ihnen ihre E-Mail-Adresse geben?',
                    hint: 'Gemeint sind Dinge wie: E-Books, Checklisten, Kalkulatoren, Templates - nicht "Kostenloses Beratungsgespräch".',
                    type: 'single',
                    options: [
                        { value: '0', label: 'Nein, haben wir nicht', score: 0 },
                        { value: '1', label: 'Ja, aber die werden kaum heruntergeladen', score: 1 },
                        { value: '3', label: 'Ja, wir haben 1-2 die ganz gut funktionieren', score: 3 },
                        { value: '5', label: 'Ja, mehrere die regelmäßig Leads bringen', score: 5 }
                    ]
                },
                {
                    id: 'q_104',
                    section: 'reach',
                    text: 'Wenn jemand auf Ihre Website kommt: Was passiert dann?',
                    type: 'single',
                    options: [
                        { value: '1', label: 'Er liest ein bisschen und verschwindet wieder', score: 1 },
                        { value: '2', label: 'Es gibt ein Kontaktformular, mehr nicht', score: 2 },
                        { value: '3', label: 'Es gibt mehrere Möglichkeiten, uns zu erreichen', score: 3 },
                        { value: '4', label: 'Es gibt konkrete Angebote zum Download', score: 4 },
                        { value: '5', label: 'Die Website ist systematisch darauf ausgelegt, Leads zu generieren', score: 5 }
                    ]
                },
                {
                    id: 'q_105',
                    section: 'reach',
                    text: 'Investieren Sie Geld in bezahlte Werbung (LinkedIn Ads, Google Ads, etc.)?',
                    type: 'single',
                    options: [
                        { value: '0', label: 'Nein, aktuell nicht', score: 0 },
                        { value: '1', label: 'Haben wir mal probiert, hat nicht funktioniert', score: 1 },
                        { value: '2', label: 'Ja, aber ohne wirkliche Strategie', score: 2 },
                        { value: '4', label: 'Ja, gezielt und mit messbarem Ergebnis', score: 4 },
                        { value: '5', label: 'Ja, systematisch - verstärkt unser organisches Marketing', score: 5 }
                    ]
                },
                {
                    id: 'q_106',
                    section: 'reach',
                    text: 'Wie viele Menschen besuchen Ihre Website durchschnittlich pro Monat?',
                    type: 'single',
                    options: [
                        { value: '0-500', label: 'Unter 500 Besucher' },
                        { value: '501-1000', label: '500-1.000 Besucher' },
                        { value: '1001-2500', label: '1.000-2.500 Besucher' },
                        { value: '2501-5000', label: '2.500-5.000 Besucher' },
                        { value: '5001-10000', label: '5.000-10.000 Besucher' },
                        { value: '10000+', label: 'Über 10.000 Besucher' },
                        { value: 'unknown', label: 'Keine Ahnung ehrlich gesagt' }
                    ]
                },
                {
                    id: 'q_107',
                    section: 'reach',
                    text: 'Wissen Sie, woher Ihre Website-Besucher kommen?',
                    type: 'single',
                    options: [
                        { value: 'no', label: 'Nein, tracken wir nicht', score: 0 },
                        { value: 'basic', label: 'Grob, aber nicht systematisch', score: 2 },
                        { value: 'advanced', label: 'Ja, detailliert mit durchgängigem Tracking', score: 5 }
                    ]
                },
                {
                    id: 'q_108',
                    section: 'reach',
                    text: 'Wie viel Prozent Ihrer Website-Besucher werden zu Leads?',
                    hint: 'Also: wie viele hinterlassen eine E-Mail-Adresse oder nehmen Kontakt auf?',
                    type: 'single',
                    options: [
                        { value: 'unknown', label: 'Weiß ich nicht' },
                        { value: '0-1', label: 'Unter 1%' },
                        { value: '1-2', label: '1-2%' },
                        { value: '2-4', label: '2-4%' },
                        { value: '4-6', label: '4-6%' },
                        { value: '6+', label: 'Über 6%' }
                    ]
                },
                
                // RELATE SECTION
                {
                    id: 'q_201',
                    section: 'relate',
                    sectionTitle: 'Phase 2: Relate - Bleiben Sie im Gedächtnis?',
                    text: 'Haben Sie einen E-Mail-Newsletter?',
                    hint: 'Newsletter erleben ein Revival - sie geben Ihnen einen direkten Draht zu Interessenten, ohne Algorithmen dazwischen.',
                    type: 'single',
                    options: [
                        { value: '0', label: 'Nein', score: 0 },
                        { value: '2', label: 'Ja, aber sehr unregelmäßig', score: 2 },
                        { value: '4', label: 'Ja, regelmäßig (mindestens monatlich)', score: 4 },
                        { value: '5', label: 'Ja, systematisch mit klarer Strategie', score: 5 }
                    ]
                },
                {
                    id: 'q_202',
                    section: 'relate',
                    text: 'Wie viele Menschen haben Ihren Newsletter abonniert?',
                    type: 'single',
                    options: [
                        { value: '0', label: 'Haben keinen Newsletter' },
                        { value: '0-100', label: '0-100 Kontakte' },
                        { value: '101-500', label: '101-500 Kontakte' },
                        { value: '501-1000', label: '501-1.000 Kontakte' },
                        { value: '1001-2500', label: '1.001-2.500 Kontakte' },
                        { value: '2501-5000', label: '2.501-5.000 Kontakte' },
                        { value: '5000+', label: 'Über 5.000 Kontakte' }
                    ]
                },
                {
                    id: 'q_203',
                    section: 'relate',
                    text: 'Was passiert, wenn jemand Ihren Lead-Magneten herunterlädt?',
                    type: 'single',
                    options: [
                        { value: '0', label: 'Nichts oder nur sehr verzögert', score: 0 },
                        { value: '2', label: 'Eine automatische Danke-E-Mail', score: 2 },
                        { value: '4', label: 'Eine Serie von Follow-up-E-Mails über mehrere Wochen', score: 4 },
                        { value: '5', label: 'Systematisches Nurturing, abgestimmt auf den heruntergeladenen Content', score: 5 },
                        { value: 'na', label: 'Haben keine Lead-Magneten', score: 0 }
                    ]
                },
                {
                    id: 'q_204',
                    section: 'relate',
                    text: 'Nutzen Sie ein CRM-System für Ihre Kontakte?',
                    type: 'single',
                    options: [
                        { value: '0', label: 'Nein - Excel oder gar nichts', score: 0 },
                        { value: '2', label: 'Ja, aber nutzen es kaum', score: 2 },
                        { value: '4', label: 'Ja, ist unser zentrales Tool', score: 4 },
                        { value: '5', label: 'Ja, voll integriert mit E-Mail-Marketing', score: 5 }
                    ]
                },
                {
                    id: 'q_205',
                    section: 'relate',
                    text: 'Erstellen Sie aus einem Content-Stück mehrere Formate?',
                    hint: 'Beispiel: Aus einem Webinar entstehen LinkedIn-Posts, ein Blog-Artikel, Video-Clips, E-Mail-Content...',
                    type: 'single',
                    options: [
                        { value: '0', label: 'Nein, jeder Content wird einmal verwendet', score: 0 },
                        { value: '3', label: 'Manchmal, wenn wir dran denken', score: 3 },
                        { value: '5', label: 'Ja, systematisch - "Create once, distribute forever"', score: 5 },
                        { value: 'na', label: 'Erstellen aktuell kaum Content', score: 0 }
                    ]
                },
                {
                    id: 'q_206',
                    section: 'relate',
                    text: 'Haben Sie verschiedene E-Mail-Listen für verschiedene Interessen?',
                    hint: 'Also: Segmentierung nach Themen, heruntergeladenen Inhalten oder Verhalten?',
                    type: 'yes_no',
                    options: [
                        { value: 'yes', label: 'Ja' },
                        { value: 'no', label: 'Nein' }
                    ]
                },
                {
                    id: 'q_207',
                    section: 'relate',
                    text: 'Wie oft denken Sie: "Wir müssten mal wieder was posten/schreiben"?',
                    type: 'single',
                    options: [
                        { value: 'always', label: 'Ständig - Marketing passiert nur wenn Zeit ist', score: 0 },
                        { value: 'sometimes', label: 'Manchmal - wir sind nicht konsequent genug', score: 2 },
                        { value: 'rarely', label: 'Selten - wir haben einen Rhythmus etabliert', score: 4 },
                        { value: 'never', label: 'Nie - läuft systematisch ohne dass wir dran denken müssen', score: 5 }
                    ]
                },
                
                // RESPOND SECTION
                {
                    id: 'q_301',
                    section: 'respond',
                    sectionTitle: 'Phase 3: Respond - Werden Leads zu Kunden?',
                    text: 'Wann ist ein Lead für Sie "qualifiziert"?',
                    type: 'single',
                    options: [
                        { value: '0', label: 'Haben wir nicht definiert', score: 0 },
                        { value: '2', label: 'Ungefähr definiert, aber nicht klar', score: 2 },
                        { value: '5', label: 'Klar definiert (Budget, Autorität, Bedarf, Timing)', score: 5 }
                    ]
                },
                {
                    id: 'q_302',
                    section: 'respond',
                    text: 'Wenn Ihr Vertrieb einen Lead kontaktiert: Weiß er, was dieser Lead vorher gemacht hat?',
                    hint: 'Also: Welchen Content hat er konsumiert? Welche Seiten besucht? Was heruntergeladen?',
                    type: 'single',
                    options: [
                        { value: '0', label: 'Nein, keine Infos verfügbar', score: 0 },
                        { value: '2', label: 'Manchmal, wenn wir dran denken nachzuschauen', score: 2 },
                        { value: '5', label: 'Ja, systematisch dokumentiert und sichtbar', score: 5 },
                        { value: 'na', label: 'Haben keinen dedizierten Vertrieb' }
                    ]
                },
                {
                    id: 'q_303',
                    section: 'respond',
                    text: 'Wie schnell reagieren Sie, wenn ein Lead bei Ihnen anfragt?',
                    type: 'single',
                    options: [
                        { value: '1', label: 'Mehrere Tage', score: 1 },
                        { value: '2', label: '24-48 Stunden', score: 2 },
                        { value: '4', label: 'Innerhalb weniger Stunden', score: 4 },
                        { value: '5', label: 'Sofort oder innerhalb von 1 Stunde', score: 5 }
                    ]
                },
                {
                    id: 'q_304',
                    section: 'respond',
                    text: 'Wie arbeiten Marketing und Vertrieb bei Ihnen zusammen?',
                    type: 'single',
                    options: [
                        { value: '0', label: 'Arbeiten komplett getrennt', score: 0 },
                        { value: '2', label: 'Reden gelegentlich miteinander', score: 2 },
                        { value: '4', label: 'Regelmäßiger Austausch', score: 4 },
                        { value: '5', label: 'Hand in Hand mit gemeinsamen Zielen', score: 5 },
                        { value: 'na', label: 'Haben diese Trennung nicht - ist dieselbe Person' }
                    ]
                },
                {
                    id: 'q_305',
                    section: 'respond',
                    text: 'Können Sie nachvollziehen, welche Marketing-Aktivität zu einem Abschluss geführt hat?',
                    type: 'single',
                    options: [
                        { value: '0', label: 'Nein, wissen wir nicht', score: 0 },
                        { value: '2', label: 'Grob - wir fragen manchmal nach', score: 2 },
                        { value: '5', label: 'Ja, systematisch dokumentiert', score: 5 }
                    ]
                },
                {
                    id: 'q_306',
                    section: 'respond',
                    text: 'Von 100 Leads, die bei Ihnen ankommen: Wie viele werden zu zahlenden Kunden?',
                    type: 'single',
                    options: [
                        { value: 'unknown', label: 'Keine Ahnung' },
                        { value: '0-5', label: 'Unter 5' },
                        { value: '5-10', label: '5-10' },
                        { value: '10-20', label: '10-20' },
                        { value: '20-30', label: '20-30' },
                        { value: '30+', label: 'Über 30' }
                    ]
                },
                {
                    id: 'q_307',
                    section: 'respond',
                    text: 'Wie lange dauert es durchschnittlich vom ersten Kontakt bis zum Abschluss?',
                    type: 'single',
                    options: [
                        { value: '0-4', label: 'Unter 4 Wochen' },
                        { value: '4-8', label: '1-2 Monate' },
                        { value: '8-12', label: '2-3 Monate' },
                        { value: '12-24', label: '3-6 Monate' },
                        { value: '24+', label: 'Über 6 Monate' },
                        { value: 'unknown', label: 'Weiß ich nicht genau' }
                    ]
                },
                {
                    id: 'q_308',
                    section: 'respond',
                    text: 'Was ist Ihr größtes Problem bei der Umwandlung von Leads zu Kunden?',
                    type: 'single',
                    options: [
                        { value: 'quality', label: 'Die Lead-Qualität stimmt nicht' },
                        { value: 'timing', label: 'Falsches Timing - noch nicht kaufbereit' },
                        { value: 'followup', label: 'Wir verlieren den Kontakt im Follow-up' },
                        { value: 'competition', label: 'Verlieren gegen Konkurrenz' },
                        { value: 'price', label: 'Preis ist oft ein Thema' },
                        { value: 'trust', label: 'Vertrauen wird nicht aufgebaut' },
                        { value: 'none', label: 'Haben damit aktuell kein großes Problem' }
                    ]
                },
                
                // RETAIN SECTION
                {
                    id: 'q_401',
                    section: 'retain',
                    sectionTitle: 'Phase 4: Retain - Nutzen Sie Ihre Bestandskunden?',
                    text: 'Behandeln Sie alle Bestandskunden gleich?',
                    type: 'single',
                    options: [
                        { value: '0', label: 'Ja, alle gleich', score: 0 },
                        { value: '2', label: 'Grobe Unterscheidung nach Umsatz', score: 2 },
                        { value: '5', label: 'Klare Segmentierung nach Wert und Potenzial', score: 5 }
                    ]
                },
                {
                    id: 'q_402',
                    section: 'retain',
                    text: 'Wie aktiv verkaufen Sie zusätzliche Services an Bestandskunden?',
                    type: 'single',
                    options: [
                        { value: '0', label: 'Gar nicht', score: 0 },
                        { value: '2', label: 'Wenn es sich ergibt', score: 2 },
                        { value: '4', label: 'Regelmäßige Gespräche über weitere Möglichkeiten', score: 4 },
                        { value: '5', label: 'Systematischer Prozess mit klaren Triggern', score: 5 }
                    ]
                },
                {
                    id: 'q_403',
                    section: 'retain',
                    text: 'Haben Sie ein System, damit Bestandskunden Sie weiterempfehlen?',
                    type: 'single',
                    options: [
                        { value: '0', label: 'Nein', score: 0 },
                        { value: '2', label: 'Wir fragen manchmal nach Empfehlungen', score: 2 },
                        { value: '5', label: 'Ja, systematisches Programm mit Incentives', score: 5 }
                    ]
                },
                {
                    id: 'q_404',
                    section: 'retain',
                    text: 'Wie viele Ihrer Neukunden kommen durch Empfehlungen von Bestandskunden?',
                    type: 'single',
                    options: [
                        { value: '0-10', label: 'Fast keine (0-10%)' },
                        { value: '11-25', label: 'Einige (11-25%)' },
                        { value: '26-50', label: 'Etwa die Hälfte (26-50%)' },
                        { value: '51-75', label: 'Die meisten (51-75%)' },
                        { value: '75+', label: 'Fast alle (über 75%)' },
                        { value: 'unknown', label: 'Weiß ich nicht' }
                    ]
                },
                {
                    id: 'q_405',
                    section: 'retain',
                    text: 'Messen Sie, wie zufrieden Ihre Bestandskunden sind?',
                    type: 'single',
                    options: [
                        { value: '0', label: 'Nein', score: 0 },
                        { value: '2', label: 'Informell - wir fragen mal nach', score: 2 },
                        { value: '4', label: 'Ja, regelmäßige Umfragen', score: 4 },
                        { value: '5', label: 'Systematisch (z.B. NPS) mit Follow-up bei Problemen', score: 5 }
                    ]
                },
                {
                    id: 'q_406',
                    section: 'retain',
                    text: 'Nutzen Sie Ihre zufriedenen Kunden für Marketing?',
                    hint: 'Gemeint sind: Case Studies, Testimonials, Referenzen, gemeinsame Webinare...',
                    type: 'single',
                    options: [
                        { value: 'no', label: 'Nein, machen wir nicht', score: 0 },
                        { value: 'rarely', label: 'Selten, wenn es sich ergibt', score: 3 },
                        { value: 'yes', label: 'Ja, aktiv und systematisch', score: 5 }
                    ]
                },
                {
                    id: 'q_407',
                    section: 'retain',
                    text: 'Ist Bestandskunden-Marketing ein fester Teil Ihrer Marketing-Strategie?',
                    type: 'single',
                    options: [
                        { value: '0', label: 'Nein, Fokus liegt auf Neukunden', score: 0 },
                        { value: '3', label: 'Teilweise, aber nicht systematisch', score: 3 },
                        { value: '5', label: 'Ja, gleichwertig zu Neukundengewinnung', score: 5 }
                    ]
                },
                
                // GENERAL SECTION – KONTEKTDATEN
                {
                    id: 'q_001',
                    section: 'general',
                    sectionTitle: 'Allgemein – Ihr Kontext',
                    text: 'Wie viele Mitarbeiter hat Ihr Unternehmen?',
                    type: 'single',
                    options: [
                        { value: '1-10', label: '1-10 Mitarbeiter' },
                        { value: '11-25', label: '11-25 Mitarbeiter' },
                        { value: '26-50', label: '26-50 Mitarbeiter' },
                        { value: '51-100', label: '51-100 Mitarbeiter' },
                        { value: '101-250', label: '101-250 Mitarbeiter' },
                        { value: '250+', label: 'Über 250 Mitarbeiter' }
                    ]
                },
                {
                    id: 'q_002',
                    section: 'general',
                    text: 'Wie viele qualifizierte Leads generieren Sie aktuell pro Monat?',
                    hint: 'Mit "qualifiziert" meinen wir: Menschen, die ernsthaft an Ihrer Lösung interessiert sind und potenziell kaufen könnten.',
                    type: 'single',
                    options: [
                        { value: '0-5', label: '0-5 Leads' },
                        { value: '6-15', label: '6-15 Leads' },
                        { value: '16-30', label: '16-30 Leads' },
                        { value: '31-50', label: '31-50 Leads' },
                        { value: '51-100', label: '51-100 Leads' },
                        { value: '100+', label: 'Über 100 Leads' },
                        { value: 'unknown', label: 'Ehrlich gesagt: Keine Ahnung' }
                    ]
                },
                {
                    id: 'q_003',
                    section: 'general',
                    text: 'Wer ist hauptsächlich für Marketing verantwortlich?',
                    type: 'single',
                    options: [
                        { value: 'founder', label: 'Geschäftsführung macht es nebenbei' },
                        { value: 'employee_parttime', label: 'Ein Mitarbeiter, der es neben anderen Aufgaben macht' },
                        { value: 'employee_fulltime', label: 'Eine dedizierte Marketing-Person' },
                        { value: 'team', label: 'Ein kleines Marketing-Team' },
                        { value: 'agency', label: 'Hauptsächlich eine externe Agentur' },
                        { value: 'nobody', label: 'Ehrlich? Niemand so richtig' }
                    ]
                },

                // GENERAL SECTION – ZUSAMMENFASSUNG
                {
                    id: 'q_501',
                    section: 'general',
                    sectionTitle: 'Zusammenfassung',
                    text: 'Was nervt Sie am meisten an Ihrem aktuellen Marketing?',
                    type: 'single',
                    options: [
                        { value: 'visibility', label: 'Niemand kennt uns / wir sind unsichtbar' },
                        { value: 'quantity', label: 'Zu wenige Leads' },
                        { value: 'quality', label: 'Falsche Leads - passen nicht zu uns' },
                        { value: 'conversion', label: 'Leads kaufen nicht' },
                        { value: 'time', label: 'Keine Zeit dafür' },
                        { value: 'knowhow', label: 'Wissen nicht, was wir tun sollen' },
                        { value: 'chaos', label: 'Alles ist unsystematisch und chaotisch' },
                        { value: 'measurement', label: 'Können nicht messen, was funktioniert' }
                    ]
                },
                {
                    id: 'q_502',
                    section: 'general',
                    text: 'Was investieren Sie aktuell monatlich in Marketing (Zeit UND Geld)?',
                    hint: 'Gemeint ist: Budget für Tools, Ads, externe Hilfe PLUS der Gegenwert der Zeit, die Sie investieren.',
                    type: 'single',
                    options: [
                        { value: '0-1000', label: 'Unter 1.000€' },
                        { value: '1000-3000', label: '1.000-3.000€' },
                        { value: '3000-5000', label: '3.000-5.000€' },
                        { value: '5000-10000', label: '5.000-10.000€' },
                        { value: '10000-20000', label: '10.000-20.000€' },
                        { value: '20000+', label: 'Über 20.000€' }
                    ]
                },
                {
                    id: 'q_503',
                    section: 'general',
                    text: 'Was ist Ihr realistisches Ziel für die nächsten 6 Monate?',
                    type: 'single',
                    options: [
                        { value: 'double', label: 'Lead-Anzahl verdoppeln' },
                        { value: 'quality', label: 'Lead-Qualität massiv verbessern' },
                        { value: 'system', label: 'Endlich ein System aufbauen, das läuft' },
                        { value: 'efficiency', label: 'Weniger Zeit reinstecken müssen' },
                        { value: 'predictable', label: 'Planbare, wiederkehrende Leads haben' },
                        { value: 'scale', label: 'Von 10 auf 100+ Leads skalieren' }
                    ]
                },
                {
                    id: 'q_504',
                    section: 'general',
                    text: 'Hand aufs Herz: Wie konsequent setzen Sie Marketing um?',
                    type: 'single',
                    options: [
                        { value: 'reactive', label: 'Nur wenn wir zu wenig Aufträge haben' },
                        { value: 'inconsistent', label: 'Phasenweise, nicht kontinuierlich' },
                        { value: 'trying', label: 'Versuchen es, aber nicht konsequent genug' },
                        { value: 'consistent', label: 'Ziemlich konsequent am Ball' },
                        { value: 'systematic', label: 'Systematisch - läuft wie ein Uhrwerk' }
                    ]
                },
                {
                    id: 'q_505',
                    section: 'general',
                    text: 'Welche Marketing-Maßnahmen betreiben Sie aktuell aktiv?',
                    type: 'multi',
                    required: false,
                    options: [
                        { value: 'linkedin_ads', label: 'LinkedIn Ads' },
                        { value: 'google_ads', label: 'Google Ads' },
                        { value: 'newsletter', label: 'Regelmäßiger Newsletter' },
                        { value: 'blog', label: 'Blogging / Content Hub' },
                        { value: 'webinar', label: 'Webinare oder virtuelle Events' },
                        { value: 'events', label: 'Messen & Präsenz-Events' },
                        { value: 'seo', label: 'SEO & organische Suche' },
                        { value: 'outbound', label: 'Outbound / SDR Outreach' }
                    ]
                },
                {
                    id: 'q_506',
                    section: 'general',
                    text: 'Welche Maßnahmen planen Sie in den nächsten 3-6 Monaten umzusetzen?',
                    type: 'multi',
                    required: false,
                    options: [
                        { value: 'rebranding', label: 'Rebranding / Marken-Relaunch' },
                        { value: 'website', label: 'Website-Relaunch' },
                        { value: 'marketing_automation', label: 'Marketing-Automatisierung' },
                        { value: 'performance_ads', label: 'Performance-Kampagnen (LinkedIn/Google)' },
                        { value: 'product_launch', label: 'Produkt- oder Service-Launch' },
                        { value: 'sales_enablement', label: 'Sales-Enablement-Material' },
                        { value: 'thought_leadership', label: 'Thought-Leadership / Content-Serie' }
                    ]
                },
                {
                    id: 'q_507',
                    section: 'general',
                    text: 'Das Wichtigste bei einer Zusammenarbeit mit einer Agentur ist für mich …',
                    type: 'single',
                    required: false,
                    options: [
                        { value: 'roi', label: 'Messbare Ergebnisse & ROI' },
                        { value: 'transparency', label: 'Transparente Kommunikation & Reporting' },
                        { value: 'speed', label: 'Tempo in der Umsetzung' },
                        { value: 'sparring', label: 'Strategischer Sparringspartner' },
                        { value: 'expertise', label: 'Tiefe B2B-Expertise' },
                        { value: 'fullservice', label: 'Komplette Done-for-you Unterstützung' }
                    ]
                }
            ],
                phaseIntros: {
                    reach: {
                        eyebrow: 'Phase 1',
                        title: 'Reach – Sichtbar bei den richtigen Entscheider:innen',
                        description: 'Systematisch sichtbar werden bei der richtigen Zielgruppe durch strategischen Content, zielgerichtete Lead-Magneten und verstärkende Paid-Kampagnen.'
                    },
                    relate: {
                        eyebrow: 'Phase 2',
                        title: 'Relate – Beziehungen zu warmen Interessenten aufbauen',
                        description: 'Kontinuierliche Beziehungen zu warmen Interessenten durch Newsletter, Lead-Nurturing-Sequenzen und systematisches Follow-up aufbauen.'
                    },
                    respond: {
                        eyebrow: 'Phase 3',
                        title: 'Respond – Kaufsignale konsequent nutzen',
                        description: 'Kaufsignale erkennen und durch optimierte Marketing-Sales-Übergabe in Abschlüsse verwandeln.'
                    },
                    retain: {
                        eyebrow: 'Phase 4',
                        title: 'Retain – Bestandskunden als Wachstumsmotor',
                        description: 'Bestandskunden systematisch entwickeln, zu Referenzen machen und als Wachstumsmotor nutzen.'
                    },
                    general: {
                        eyebrow: 'Allgemein',
                        title: 'Einordnung & Ziele schärfen',
                        description: 'Ein paar letzte Fragen helfen uns, Ihre Ausgangslage besser zu verstehen und die Empfehlungen passgenau zu machen.'
                    }
                },
                ui: {
                    continueButton: 'Weiter zur Phase',
                    resultsTitle: 'Ihre Ergebnisse',
                    resultsSubtitle: 'Basierend auf Ihren Angaben',
                    ctaEyebrow: 'Nächster Schritt',
                    ctaHeading: 'Termin mit Christoph Sauerborn vereinbaren',
                    ctaText: 'Gemeinsam übersetzen wir Ihre Ergebnisse in eine klare Wachstums-Roadmap. Im Gespräch erfahren Sie, wo Ihr größter Hebel liegt und wie Sie das 10→100 Leads System in Ihrer Organisation etablieren.',
                    successTitle: 'Vielen Dank!',
                    successText: 'Ihre Ergebnisse wurden gespeichert.',
                    newAssessment: 'Neues Assessment'
                }
            },
            en: {
                questions: [
                    // REACH SECTION
                    {
                        id: 'q_101',
                        section: 'reach',
                        sectionTitle: 'Phase 1: Reach - Are You Even Being Found?',
                        text: 'How active are you or your leadership team personally on LinkedIn?',
                        hint: 'Important: We mean personal profiles, not your company page. People follow people, not companies.',
                        type: 'single',
                        options: [
                            { value: '0', label: 'LinkedIn? We don\'t have it or don\'t use it', score: 0 },
                            { value: '1', label: 'Profile exists, but we never post', score: 1 },
                            { value: '2', label: 'Occasional posts (1-2x per month)', score: 2 },
                            { value: '3', label: 'Regular activity (several times per week)', score: 3 },
                            { value: '4', label: 'Very active with strategic content', score: 4 },
                            { value: '5', label: 'Daily presence, measurably growing engagement', score: 5 }
                        ]
                    },
                    {
                        id: 'q_102',
                        section: 'reach',
                        text: 'What do you primarily write about when creating content?',
                        type: 'single',
                        options: [
                            { value: 'products', label: 'About our products and services', score: 1 },
                            { value: 'company', label: 'About our company and achievements', score: 1 },
                            { value: 'industry', label: 'About general industry news', score: 2 },
                            { value: 'problems', label: 'About specific problems our audience faces', score: 5 },
                            { value: 'experience', label: 'About our practical experience from real projects', score: 5 },
                            { value: 'none', label: 'We don\'t currently create content', score: 0 }
                        ]
                    },
                    {
                        id: 'q_103',
                        section: 'reach',
                        text: 'Do you have lead magnets that people exchange their email for?',
                        hint: 'We mean things like: E-books, checklists, calculators, templates - not "Free consultation call".',
                        type: 'single',
                        options: [
                            { value: '0', label: 'No, we don\'t have any', score: 0 },
                            { value: '1', label: 'Yes, but they\'re barely downloaded', score: 1 },
                            { value: '3', label: 'Yes, 1-2 that work quite well', score: 3 },
                            { value: '5', label: 'Yes, multiple that regularly bring leads', score: 5 }
                        ]
                    },
                    {
                        id: 'q_104',
                        section: 'reach',
                        text: 'When someone lands on your website: What happens next?',
                        type: 'single',
                        options: [
                            { value: '1', label: 'They read a bit and disappear', score: 1 },
                            { value: '2', label: 'There\'s a contact form, nothing more', score: 2 },
                            { value: '3', label: 'Multiple ways to reach us', score: 3 },
                            { value: '4', label: 'Concrete downloadable offers', score: 4 },
                            { value: '5', label: 'The website is systematically designed to generate leads', score: 5 }
                        ]
                    },
                    {
                        id: 'q_105',
                        section: 'reach',
                        text: 'Do you invest money in paid advertising (LinkedIn Ads, Google Ads, etc.)?',
                        type: 'single',
                        options: [
                            { value: '0', label: 'No, not currently', score: 0 },
                            { value: '1', label: 'Tried it once, didn\'t work', score: 1 },
                            { value: '2', label: 'Yes, but without real strategy', score: 2 },
                            { value: '4', label: 'Yes, targeted with measurable results', score: 4 },
                            { value: '5', label: 'Yes, systematically - amplifies our organic marketing', score: 5 }
                        ]
                    },
                    {
                        id: 'q_106',
                        section: 'reach',
                        text: 'How many people visit your website on average per month?',
                        type: 'single',
                        options: [
                            { value: '0-500', label: 'Under 500 visitors' },
                            { value: '501-1000', label: '500-1,000 visitors' },
                            { value: '1001-2500', label: '1,000-2,500 visitors' },
                            { value: '2501-5000', label: '2,500-5,000 visitors' },
                            { value: '5001-10000', label: '5,000-10,000 visitors' },
                            { value: '10000+', label: 'Over 10,000 visitors' },
                            { value: 'unknown', label: 'Honestly, no idea' }
                        ]
                    },
                    {
                        id: 'q_107',
                        section: 'reach',
                        text: 'Do you know where your website visitors come from?',
                        type: 'single',
                        options: [
                            { value: 'no', label: 'No, we don\'t track it', score: 0 },
                            { value: 'basic', label: 'Roughly, but not systematically', score: 2 },
                            { value: 'advanced', label: 'Yes, detailed with end-to-end tracking', score: 5 }
                        ]
                    },
                    {
                        id: 'q_108',
                        section: 'reach',
                        text: 'What percentage of your website visitors become leads?',
                        hint: 'In other words: how many leave an email address or make contact?',
                        type: 'single',
                        options: [
                            { value: 'unknown', label: 'I don\'t know' },
                            { value: '0-1', label: 'Under 1%' },
                            { value: '1-2', label: '1-2%' },
                            { value: '2-4', label: '2-4%' },
                            { value: '4-6', label: '4-6%' },
                            { value: '6+', label: 'Over 6%' }
                        ]
                    },

                    // RELATE SECTION
                    {
                        id: 'q_201',
                        section: 'relate',
                        sectionTitle: 'Phase 2: Relate - Do You Stay Top of Mind?',
                        text: 'Do you have an email newsletter?',
                        hint: 'Newsletters are experiencing a revival - they give you a direct line to prospects, without algorithms in between.',
                        type: 'single',
                        options: [
                            { value: '0', label: 'No', score: 0 },
                            { value: '2', label: 'Yes, but very irregularly', score: 2 },
                            { value: '4', label: 'Yes, regularly (at least monthly)', score: 4 },
                            { value: '5', label: 'Yes, systematically with a clear strategy', score: 5 }
                        ]
                    },
                    {
                        id: 'q_202',
                        section: 'relate',
                        text: 'How many people have subscribed to your newsletter?',
                        type: 'single',
                        options: [
                            { value: '0', label: 'Don\'t have a newsletter' },
                            { value: '0-100', label: '0-100 contacts' },
                            { value: '101-500', label: '101-500 contacts' },
                            { value: '501-1000', label: '501-1,000 contacts' },
                            { value: '1001-2500', label: '1,001-2,500 contacts' },
                            { value: '2501-5000', label: '2,501-5,000 contacts' },
                            { value: '5000+', label: 'Over 5,000 contacts' }
                        ]
                    },
                    {
                        id: 'q_203',
                        section: 'relate',
                        text: 'What happens when someone downloads your lead magnet?',
                        type: 'single',
                        options: [
                            { value: '0', label: 'Nothing or very delayed response', score: 0 },
                            { value: '2', label: 'An automated thank-you email', score: 2 },
                            { value: '4', label: 'A series of follow-up emails over several weeks', score: 4 },
                            { value: '5', label: 'Systematic nurturing, tailored to the downloaded content', score: 5 },
                            { value: 'na', label: 'Don\'t have lead magnets', score: 0 }
                        ]
                    },
                    {
                        id: 'q_204',
                        section: 'relate',
                        text: 'Do you use a CRM system for your contacts?',
                        type: 'single',
                        options: [
                            { value: '0', label: 'No - Excel or nothing', score: 0 },
                            { value: '2', label: 'Yes, but barely use it', score: 2 },
                            { value: '4', label: 'Yes, it\'s our central tool', score: 4 },
                            { value: '5', label: 'Yes, fully integrated with email marketing', score: 5 }
                        ]
                    },
                    {
                        id: 'q_205',
                        section: 'relate',
                        text: 'Do you create multiple formats from one piece of content?',
                        hint: 'Example: From one webinar you create LinkedIn posts, a blog article, video clips, email content...',
                        type: 'single',
                        options: [
                            { value: '0', label: 'No, each content piece is used once', score: 0 },
                            { value: '3', label: 'Sometimes, when we remember', score: 3 },
                            { value: '5', label: 'Yes, systematically - "Create once, distribute forever"', score: 5 },
                            { value: 'na', label: 'Currently create little content', score: 0 }
                        ]
                    },
                    {
                        id: 'q_206',
                        section: 'relate',
                        text: 'Do you have different email lists for different interests?',
                        hint: 'Meaning: Segmentation by topics, downloaded content, or behavior?',
                        type: 'yes_no',
                        options: [
                            { value: 'yes', label: 'Yes' },
                            { value: 'no', label: 'No' }
                        ]
                    },
                    {
                        id: 'q_207',
                        section: 'relate',
                        text: 'How often do you think: "We should post/write something again"?',
                        type: 'single',
                        options: [
                            { value: 'always', label: 'Constantly - marketing only happens when there\'s time', score: 0 },
                            { value: 'sometimes', label: 'Sometimes - we\'re not consistent enough', score: 2 },
                            { value: 'rarely', label: 'Rarely - we\'ve established a rhythm', score: 4 },
                            { value: 'never', label: 'Never - runs systematically without us thinking about it', score: 5 }
                        ]
                    },

                    // RESPOND SECTION
                    {
                        id: 'q_301',
                        section: 'respond',
                        sectionTitle: 'Phase 3: Respond - Do Leads Become Customers?',
                        text: 'When is a lead "qualified" for you?',
                        type: 'single',
                        options: [
                            { value: '0', label: 'We haven\'t defined it', score: 0 },
                            { value: '2', label: 'Roughly defined, but not clear', score: 2 },
                            { value: '5', label: 'Clearly defined (Budget, Authority, Need, Timing)', score: 5 }
                        ]
                    },
                    {
                        id: 'q_302',
                        section: 'respond',
                        text: 'When your sales team contacts a lead: Do they know what the lead did before?',
                        hint: 'Meaning: What content did they consume? Which pages visited? What downloaded?',
                        type: 'single',
                        options: [
                            { value: '0', label: 'No, no info available', score: 0 },
                            { value: '2', label: 'Sometimes, when we remember to check', score: 2 },
                            { value: '5', label: 'Yes, systematically documented and visible', score: 5 },
                            { value: 'na', label: 'Don\'t have dedicated sales team' }
                        ]
                    },
                    {
                        id: 'q_303',
                        section: 'respond',
                        text: 'How quickly do you respond when a lead inquires?',
                        type: 'single',
                        options: [
                            { value: '1', label: 'Several days', score: 1 },
                            { value: '2', label: '24-48 hours', score: 2 },
                            { value: '4', label: 'Within a few hours', score: 4 },
                            { value: '5', label: 'Immediately or within 1 hour', score: 5 }
                        ]
                    },
                    {
                        id: 'q_304',
                        section: 'respond',
                        text: 'How do marketing and sales work together at your company?',
                        type: 'single',
                        options: [
                            { value: '0', label: 'Completely separate', score: 0 },
                            { value: '2', label: 'Occasional conversation', score: 2 },
                            { value: '4', label: 'Regular exchange', score: 4 },
                            { value: '5', label: 'Hand in hand with shared goals', score: 5 },
                            { value: 'na', label: 'Don\'t have this separation - same person' }
                        ]
                    },
                    {
                        id: 'q_305',
                        section: 'respond',
                        text: 'Can you track which marketing activity led to a deal?',
                        type: 'single',
                        options: [
                            { value: '0', label: 'No, we don\'t know', score: 0 },
                            { value: '2', label: 'Roughly - we sometimes ask', score: 2 },
                            { value: '5', label: 'Yes, systematically documented', score: 5 }
                        ]
                    },
                    {
                        id: 'q_306',
                        section: 'respond',
                        text: 'Of 100 leads that come in: How many become paying customers?',
                        type: 'single',
                        options: [
                            { value: 'unknown', label: 'No idea' },
                            { value: '0-5', label: 'Under 5' },
                            { value: '5-10', label: '5-10' },
                            { value: '10-20', label: '10-20' },
                            { value: '20-30', label: '20-30' },
                            { value: '30+', label: 'Over 30' }
                        ]
                    },
                    {
                        id: 'q_307',
                        section: 'respond',
                        text: 'How long does it take on average from first contact to closing?',
                        type: 'single',
                        options: [
                            { value: '0-4', label: 'Under 4 weeks' },
                            { value: '4-8', label: '1-2 months' },
                            { value: '8-12', label: '2-3 months' },
                            { value: '12-24', label: '3-6 months' },
                            { value: '24+', label: 'Over 6 months' },
                            { value: 'unknown', label: 'Not sure exactly' }
                        ]
                    },
                    {
                        id: 'q_308',
                        section: 'respond',
                        text: 'What\'s your biggest challenge in converting leads to customers?',
                        type: 'single',
                        options: [
                            { value: 'quality', label: 'Lead quality isn\'t right' },
                            { value: 'timing', label: 'Wrong timing - not ready to buy yet' },
                            { value: 'followup', label: 'We lose contact in follow-up' },
                            { value: 'competition', label: 'Losing to competition' },
                            { value: 'price', label: 'Price is often an issue' },
                            { value: 'trust', label: 'Trust isn\'t being built' },
                            { value: 'none', label: 'Don\'t currently have a major problem with this' }
                        ]
                    },

                    // RETAIN SECTION
                    {
                        id: 'q_401',
                        section: 'retain',
                        sectionTitle: 'Phase 4: Retain - Are You Leveraging Existing Customers?',
                        text: 'Do you treat all existing customers the same?',
                        type: 'single',
                        options: [
                            { value: '0', label: 'Yes, all the same', score: 0 },
                            { value: '2', label: 'Rough distinction by revenue', score: 2 },
                            { value: '5', label: 'Clear segmentation by value and potential', score: 5 }
                        ]
                    },
                    {
                        id: 'q_402',
                        section: 'retain',
                        text: 'How actively do you sell additional services to existing customers?',
                        type: 'single',
                        options: [
                            { value: '0', label: 'Not at all', score: 0 },
                            { value: '2', label: 'When it comes up', score: 2 },
                            { value: '4', label: 'Regular conversations about further opportunities', score: 4 },
                            { value: '5', label: 'Systematic process with clear triggers', score: 5 }
                        ]
                    },
                    {
                        id: 'q_403',
                        section: 'retain',
                        text: 'Do you have a system for existing customers to refer you?',
                        type: 'single',
                        options: [
                            { value: '0', label: 'No', score: 0 },
                            { value: '2', label: 'We sometimes ask for referrals', score: 2 },
                            { value: '5', label: 'Yes, systematic program with incentives', score: 5 }
                        ]
                    },
                    {
                        id: 'q_404',
                        section: 'retain',
                        text: 'How many of your new customers come through referrals from existing customers?',
                        type: 'single',
                        options: [
                            { value: '0-10', label: 'Almost none (0-10%)' },
                            { value: '11-25', label: 'Some (11-25%)' },
                            { value: '26-50', label: 'About half (26-50%)' },
                            { value: '51-75', label: 'Most (51-75%)' },
                            { value: '75+', label: 'Nearly all (over 75%)' },
                            { value: 'unknown', label: 'I don\'t know' }
                        ]
                    },
                    {
                        id: 'q_405',
                        section: 'retain',
                        text: 'Do you measure how satisfied your existing customers are?',
                        type: 'single',
                        options: [
                            { value: '0', label: 'No', score: 0 },
                            { value: '2', label: 'Informally - we ask sometimes', score: 2 },
                            { value: '4', label: 'Yes, regular surveys', score: 4 },
                            { value: '5', label: 'Systematically (e.g. NPS) with follow-up on issues', score: 5 }
                        ]
                    },
                    {
                        id: 'q_406',
                        section: 'retain',
                        text: 'Do you use your satisfied customers for marketing?',
                        hint: 'Meaning: Case studies, testimonials, references, joint webinars...',
                        type: 'single',
                        options: [
                            { value: 'no', label: 'No, we don\'t do that', score: 0 },
                            { value: 'rarely', label: 'Rarely, when it comes up', score: 3 },
                            { value: 'yes', label: 'Yes, actively and systematically', score: 5 }
                        ]
                    },
                    {
                        id: 'q_407',
                        section: 'retain',
                        text: 'Is customer retention marketing a fixed part of your marketing strategy?',
                        type: 'single',
                        options: [
                            { value: '0', label: 'No, focus is on new customers', score: 0 },
                            { value: '3', label: 'Partially, but not systematic', score: 3 },
                            { value: '5', label: 'Yes, equal to new customer acquisition', score: 5 }
                        ]
                    },

                    // GENERAL SECTION
                    {
                        id: 'q_001',
                        section: 'general',
                        sectionTitle: 'General – Your Context',
                        text: 'How many employees does your company have?',
                        type: 'single',
                        options: [
                            { value: '1-10', label: '1-10 employees' },
                            { value: '11-25', label: '11-25 employees' },
                            { value: '26-50', label: '26-50 employees' },
                            { value: '51-100', label: '51-100 employees' },
                            { value: '101-250', label: '101-250 employees' },
                            { value: '250+', label: 'Over 250 employees' }
                        ]
                    },
                    {
                        id: 'q_002',
                        section: 'general',
                        text: 'How many qualified leads do you currently generate per month?',
                        hint: 'By "qualified" we mean: People who are seriously interested in your solution and could potentially buy.',
                        type: 'single',
                        options: [
                            { value: '0-5', label: '0-5 leads' },
                            { value: '6-15', label: '6-15 leads' },
                            { value: '16-30', label: '16-30 leads' },
                            { value: '31-50', label: '31-50 leads' },
                            { value: '51-100', label: '51-100 leads' },
                            { value: '100+', label: 'Over 100 leads' },
                            { value: 'unknown', label: 'Honestly: No idea' }
                        ]
                    },
                    {
                        id: 'q_003',
                        section: 'general',
                        text: 'Who is primarily responsible for marketing?',
                        type: 'single',
                        options: [
                            { value: 'founder', label: 'Leadership does it on the side' },
                            { value: 'employee_parttime', label: 'An employee who does it alongside other tasks' },
                            { value: 'employee_fulltime', label: 'A dedicated marketing person' },
                            { value: 'team', label: 'A small marketing team' },
                            { value: 'agency', label: 'Mainly an external agency' },
                            { value: 'nobody', label: 'Honestly? No one really' }
                        ]
                    },
                    {
                        id: 'q_501',
                        section: 'general',
                        sectionTitle: 'Summary',
                        text: 'What frustrates you most about your current marketing?',
                        type: 'single',
                        options: [
                            { value: 'visibility', label: 'No one knows us / we\'re invisible' },
                            { value: 'quantity', label: 'Too few leads' },
                            { value: 'quality', label: 'Wrong leads - don\'t fit us' },
                            { value: 'conversion', label: 'Leads don\'t buy' },
                            { value: 'time', label: 'No time for it' },
                            { value: 'knowhow', label: 'Don\'t know what to do' },
                            { value: 'chaos', label: 'Everything is unsystematic and chaotic' },
                            { value: 'measurement', label: 'Can\'t measure what works' }
                        ]
                    },
                    {
                        id: 'q_502',
                        section: 'general',
                        text: 'What do you currently invest monthly in marketing (time AND money)?',
                        hint: 'We mean: Budget for tools, ads, external help PLUS the value of time you invest.',
                        type: 'single',
                        options: [
                            { value: '0-1000', label: 'Under €1,000' },
                            { value: '1000-3000', label: '€1,000-3,000' },
                            { value: '3000-5000', label: '€3,000-5,000' },
                            { value: '5000-10000', label: '€5,000-10,000' },
                            { value: '10000-20000', label: '€10,000-20,000' },
                            { value: '20000+', label: 'Over €20,000' }
                        ]
                    },
                    {
                        id: 'q_503',
                        section: 'general',
                        text: 'What\'s your realistic goal for the next 6 months?',
                        type: 'single',
                        options: [
                            { value: 'double', label: 'Double lead count' },
                            { value: 'quality', label: 'Massively improve lead quality' },
                            { value: 'system', label: 'Finally build a system that works' },
                            { value: 'efficiency', label: 'Need to invest less time' },
                            { value: 'predictable', label: 'Have predictable, recurring leads' },
                            { value: 'scale', label: 'Scale from 10 to 100+ leads' }
                        ]
                    },
                    {
                        id: 'q_504',
                        section: 'general',
                        text: 'Hand on heart: How consistently do you execute marketing?',
                        type: 'single',
                        options: [
                            { value: 'reactive', label: 'Only when we have too few orders' },
                            { value: 'inconsistent', label: 'In phases, not continuously' },
                            { value: 'trying', label: 'We try, but not consistent enough' },
                            { value: 'consistent', label: 'Pretty consistently on it' },
                            { value: 'systematic', label: 'Systematic - runs like clockwork' }
                        ]
                    },
                    {
                        id: 'q_505',
                        section: 'general',
                        text: 'Which marketing measures are you currently actively pursuing?',
                        type: 'multi',
                        required: false,
                        options: [
                            { value: 'linkedin_ads', label: 'LinkedIn Ads' },
                            { value: 'google_ads', label: 'Google Ads' },
                            { value: 'newsletter', label: 'Regular newsletter' },
                            { value: 'blog', label: 'Blogging / Content hub' },
                            { value: 'webinar', label: 'Webinars or virtual events' },
                            { value: 'events', label: 'Trade shows & live events' },
                            { value: 'seo', label: 'SEO & organic search' },
                            { value: 'outbound', label: 'Outbound / SDR outreach' }
                        ]
                    },
                    {
                        id: 'q_506',
                        section: 'general',
                        text: 'Which measures are you planning to implement in the next 3-6 months?',
                        type: 'multi',
                        required: false,
                        options: [
                            { value: 'rebranding', label: 'Rebranding / brand relaunch' },
                            { value: 'website', label: 'Website relaunch' },
                            { value: 'marketing_automation', label: 'Marketing automation' },
                            { value: 'performance_ads', label: 'Performance campaigns (LinkedIn/Google)' },
                            { value: 'product_launch', label: 'Product or service launch' },
                            { value: 'sales_enablement', label: 'Sales enablement materials' },
                            { value: 'thought_leadership', label: 'Thought leadership / content series' }
                        ]
                    },
                    {
                        id: 'q_507',
                        section: 'general',
                        text: 'The most important thing when working with an agency is for me...',
                        type: 'single',
                        required: false,
                        options: [
                            { value: 'roi', label: 'Measurable results & ROI' },
                            { value: 'transparency', label: 'Transparent communication & reporting' },
                            { value: 'speed', label: 'Speed of execution' },
                            { value: 'sparring', label: 'Strategic sparring partner' },
                            { value: 'expertise', label: 'Deep B2B expertise' },
                            { value: 'fullservice', label: 'Complete done-for-you support' }
                        ]
                    }
                ],
                phaseIntros: {
                    reach: {
                        eyebrow: 'Phase 1',
                        title: 'Reach – Visible to the Right Decision-Makers',
                        description: 'Systematically become visible to the right audience through strategic content, targeted lead magnets, and amplifying paid campaigns.'
                    },
                    relate: {
                        eyebrow: 'Phase 2',
                        title: 'Relate – Building Relationships with Warm Prospects',
                        description: 'Build continuous relationships with warm prospects through newsletters, lead-nurturing sequences, and systematic follow-up.'
                    },
                    respond: {
                        eyebrow: 'Phase 3',
                        title: 'Respond – Consistently Leverage Buying Signals',
                        description: 'Recognize buying signals and convert them into deals through optimized marketing-to-sales handoff.'
                    },
                    retain: {
                        eyebrow: 'Phase 4',
                        title: 'Retain – Existing Customers as Growth Engine',
                        description: 'Systematically develop existing customers, turn them into references, and use them as your growth engine.'
                    },
                    general: {
                        eyebrow: 'General',
                        title: 'Context & Goal Sharpening',
                        description: 'A few final questions help us better understand your starting point and make recommendations precisely tailored.'
                    }
                },
                ui: {
                    continueButton: 'Continue to Phase',
                    resultsTitle: 'Your Results',
                    resultsSubtitle: 'Based on your responses',
                    ctaEyebrow: 'Next Step',
                    ctaHeading: 'Schedule a Call with Christoph Sauerborn',
                    ctaText: 'Together we\'ll translate your results into a clear growth roadmap. In our conversation, you\'ll discover where your biggest leverage lies and how to establish the 10→100 Leads System in your organization.',
                    successTitle: 'Thank You!',
                    successText: 'Your results have been saved.',
                    newAssessment: 'New Assessment'
                }
            }
        };

        // Get current translation based on detected language
        CONFIG.questions = TRANSLATIONS[CURRENT_LANG].questions;
        const PHASE_INTROS = TRANSLATIONS[CURRENT_LANG].phaseIntros;
        const UI_TEXT = TRANSLATIONS[CURRENT_LANG].ui;

        const SCORING_SECTIONS = ['reach', 'relate', 'respond', 'retain'];

        const MAX_SCORES = (() => {
            const maxMap = {};
            SCORING_SECTIONS.forEach(section => {
                const sectionQuestions = CONFIG.questions.filter(q => q.section === section);
                const sectionMax = sectionQuestions.reduce((sum, question) => {
                    const options = question.options || [];
                    const questionMax = options.reduce((max, option) => {
                        const value = typeof option.score === 'number' ? option.score : 0;
                        return value > max ? value : max;
                    }, 0);
                    return sum + questionMax;
                }, 0);

                maxMap[section] = sectionMax;
            });

            maxMap.total = SCORING_SECTIONS.reduce((sum, section) => sum + (maxMap[section] || 0), 0);
            return maxMap;
        })();

        const SECTION_ORDER = ['reach', 'relate', 'respond', 'retain', 'general'];

        const PHASE_SHORT_LABELS = {
            reach: 'Reach',
            relate: 'Relate',
            respond: 'Respond',
            retain: 'Retain',
            general: 'Allgemein'
        };

        const SECTION_QUESTION_COUNTS = (() => {
            const counts = {};
            SECTION_ORDER.forEach(section => {
                counts[section] = CONFIG.questions.filter(q => q.section === section).length;
            });
            return counts;
        })();

        const INTERPRETATION_MAP = {
            reach: [
                {
                    min: 85,
                    title: 'Marke mit Sogwirkung',
                    description: 'Ihre Präsenz erzeugt organische Nachfrage. Content, Paid und Lead-Magneten greifen wie Zahnräder ineinander.'
                },
                {
                    min: 65,
                    title: 'Sichtbar mit Potenzial',
                    description: 'Sie sind aktiv und werden wahrgenommen. Mehr Konsistenz bei Paid, Profilen und Downloads hebt das Wachstumspotenzial.'
                },
                {
                    min: 40,
                    title: 'Unregelmäßige Sichtbarkeit',
                    description: 'Phasenweise Präsenz sorgt für Ausschläge, aber kein Momentum. Fokus auf Redaktionsrhythmus und klare Lead-Angebote.'
                },
                {
                    min: 0,
                    title: 'Kaum auffindbar',
                    description: 'Ihre Zielkunden finden Sie selten. Markenaufbau über LinkedIn, Website-Story und Magnetangebote ist der erste Hebel.'
                }
            ],
            relate: [
                {
                    min: 85,
                    title: 'Nurturing-Maschine',
                    description: 'Segmentierte Journeys, Automationen und Sales-Handshakes sorgen für messbar reifere Leads.'
                },
                {
                    min: 65,
                    title: 'Stabile Pipelinepflege',
                    description: 'Ihre Kontakte werden regelmäßig qualifiziert. Mit individualisierten Sequenzen steigern Sie Bindung und Conversion.'
                },
                {
                    min: 40,
                    title: 'Geplante Impulse',
                    description: 'Sie bespielen Ihre Kontakte selektiv. Fehlt: systematisches Repurposing und Segment-Logik für skalierbares Wachstum.'
                },
                {
                    min: 0,
                    title: 'Leads versanden',
                    description: 'Downloads und Kontakte bleiben ohne Plan. CRM, Sequenzen und Wert-Content müssen verbindlich verankert werden.'
                }
            ],
            respond: [
                {
                    min: 85,
                    title: 'Marketing & Vertrieb im Gleichklang',
                    description: 'SLA, Daten und Reaktionsschnelligkeit sitzen. Ihre Pipeline ist berechenbar und Sales fokussiert auf Abschlüsse.'
                },
                {
                    min: 65,
                    title: 'Koordiniertes Zusammenspiel',
                    description: 'Marketing liefert Futter, Vertrieb greift früh zu. Mit sauberen KPIs und Hand-offs verkürzen Sie Zykluszeiten weiter.'
                },
                {
                    min: 40,
                    title: 'Reaktionen nach Bauchgefühl',
                    description: 'Responder hängen von Einzelpersonen ab. Messbare Responsezeiten und Qualifizierungsschritte bringen Stabilität.'
                },
                {
                    min: 0,
                    title: 'Leads fallen durchs Raster',
                    description: 'Marketing übergibt zu spät oder gar nicht. Gemeinsame Definitionen, Playbooks und Follow-up-Cadence sind Pflicht.'
                }
            ],
            retain: [
                {
                    min: 85,
                    title: 'Wachstum aus dem Bestand',
                    description: 'Account-Programme, Referenzen und Upsells laufen orchestriert. Bestandskunden pushen aktiv Ihr Neugeschäft.'
                },
                {
                    min: 65,
                    title: 'Solides Kundenmanagement',
                    description: 'Sie kümmern sich. Mit klaren Triggers und gemessener Zufriedenheit wird Loyalität zum systematischen Umsatztreiber.'
                },
                {
                    min: 40,
                    title: 'Einzelaktionen statt System',
                    description: 'Maßnahmen passieren punktuell. Strukturierte Lifecycle-Pläne und Referral-Flows liefern kalkulierbare Ergebnisse.'
                },
                {
                    min: 0,
                    title: 'Potenzial bleibt ungenutzt',
                    description: 'Nach dem Abschluss passiert wenig. Kundenzufriedenheit, Upsell-Angebote und Empfehlungen benötigen Priorität.'
                }
            ]
        };

        const OVERALL_INTERPRETATIONS = [
            {
                min: 85,
                title: 'Wachstum auf Autopilot',
                description: 'Ihr Marketing- und Vertriebssystem liefert planbare Pipeline. Jetzt geht es um Skalierung und Effizienzgewinne.'
            },
            {
                min: 65,
                title: 'Systematik mit Luft nach oben',
                description: 'Die Fundamente stehen. Präzise KPIs und engere Verzahnung heben zusätzliche 20-30% Performance.'
            },
            {
                min: 40,
                title: 'Solide Basis im Aufbau',
                description: 'Einige Hebel sind gesetzt, andere noch punktuell. Priorisieren Sie ein bis zwei Phasen und bauen Sie klare Routinen auf.'
            },
            {
                min: 0,
                title: 'Systemaufbau steht an',
                description: 'Lead-Generierung hängt von Einzelaktionen ab. Zuerst Reichweite aufbauen, dann Prozesse für Nurturing und Sales fixieren.'
            }
        ];

        const generateAssessmentId = () => {
            if (typeof crypto !== "undefined" && typeof crypto.randomUUID === "function") {
                return crypto.randomUUID();
            }
            return `pp-${Math.random().toString(36).slice(2, 10)}${Date.now().toString(36)}`;
        };

        const persistAssessmentId = (id) => {
            try {
                localStorage.setItem("assessment_id", id);
            } catch (error) {
                console.warn("Could not persist assessment id", error);
            }
        };

        const buildCalendlyUrl = () => {
            const baseUrl = CONFIG.calendlyUrl;
            if (!baseUrl) return "";
            if (!state.assessmentId) return baseUrl;

            try {
                const url = new URL(baseUrl);
                url.searchParams.set("assessment_id", state.assessmentId);
                return url.toString();
            } catch (error) {
                console.warn("Invalid Calendly URL, falling back to base", error);
                const connector = baseUrl.includes("?") ? "&" : "?";
                return `${baseUrl}${connector}assessment_id=${encodeURIComponent(state.assessmentId)}`;
            }
        };

        const sendBookingSnapshot = async (destinationUrl) => {
            if (!CONFIG.webhookUrl || CONFIG.webhookUrl === "YOUR_WEBHOOK_URL_HERE") {
                return;
            }

            const snapshot = {
                event: "calendly_cta",
                assessmentId: state.assessmentId,
                answers: state.answers,
                scores: state.scores,
                destination: destinationUrl,
                timestamp: new Date().toISOString()
            };

            try {
                await fetch(CONFIG.webhookUrl, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify(snapshot)
                });
            } catch (error) {
                console.error("Error sending Calendly snapshot:", error);
            }
        };

        const trackingState = {
            config: CONFIG.tracking || {},
            pendingLinkedInConversions: []
        };

        const AUTO_TRACK_TYPES = new Set(['single', 'yes_no']);

        function flushLinkedInQueue() {
            if (!trackingState.pendingLinkedInConversions.length) return;
            if (typeof window.lintrk !== 'function') return;

            while (trackingState.pendingLinkedInConversions.length) {
                const conversionId = trackingState.pendingLinkedInConversions.shift();
                window.lintrk('track', { conversion_id: conversionId });
            }
        }

        function initializeTracking() {
            const config = trackingState.config;
            if (!config) return;

            window.dataLayer = window.dataLayer || [];

            if (config.googleTagManagerId) {
                window.dataLayer.push({ 'gtm.start': Date.now(), event: 'gtm.js' });
                const gtmScript = document.createElement('script');
                gtmScript.async = true;
                gtmScript.src = `https://www.googletagmanager.com/gtm.js?id=${config.googleTagManagerId}`;
                document.head.appendChild(gtmScript);
            }

            if (config.googleAnalyticsId) {
                const gaScript = document.createElement('script');
                gaScript.async = true;
                gaScript.src = `https://www.googletagmanager.com/gtag/js?id=${config.googleAnalyticsId}`;
                document.head.appendChild(gaScript);

                window.gtag = window.gtag || function(){ window.dataLayer.push(arguments); };
                window.gtag('js', new Date());
                window.gtag('config', config.googleAnalyticsId);
            }

            if (config.metaPixelId) {
                if (!window.fbq) {
                    !function(f,b,e,v,n,t,s)
                    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
                    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
                    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
                    n.queue=[];t=b.createElement(e);t.async=!0;
                    t.src=v;s=b.getElementsByTagName(e)[0];
                    s.parentNode.insertBefore(t,s)}(window, document,'script','https://connect.facebook.net/en_US/fbevents.js');
                }
                window.fbq('init', config.metaPixelId);
                window.fbq('track', 'PageView');

                if (document.body) {
                    const noscript = document.createElement('noscript');
                    const img = document.createElement('img');
                    img.height = 1;
                    img.width = 1;
                    img.style.display = 'none';
                    img.src = `https://www.facebook.com/tr?id=${config.metaPixelId}&ev=PageView&noscript=1`;
                    noscript.appendChild(img);
                    document.body.appendChild(noscript);
                }
            }

            if (config.linkedinPartnerId) {
                window._linkedin_data_partner_ids = window._linkedin_data_partner_ids || [];
                if (!window._linkedin_data_partner_ids.includes(config.linkedinPartnerId)) {
                    window._linkedin_data_partner_ids.push(config.linkedinPartnerId);
                }
                const lnScript = document.createElement('script');
                lnScript.type = 'text/javascript';
                lnScript.async = true;
                lnScript.src = 'https://snap.licdn.com/li.lms-analytics/insight.min.js';
                lnScript.onload = flushLinkedInQueue;
                document.head.appendChild(lnScript);

                if (document.body) {
                    const noscript = document.createElement('noscript');
                    noscript.innerHTML = `<img height="1" width="1" style="display:none;" alt="" src="https://px.ads.linkedin.com/collect/?pid=${config.linkedinPartnerId}&fmt=gif" />`;
                    document.body.appendChild(noscript);
                }
            }
        }

        function dispatchTrackingEvent(eventName, payload = {}) {
            const timestamp = new Date().toISOString();
            if (state?.assessmentId && payload.assessmentId === undefined) {
                payload.assessmentId = state.assessmentId;
            }
            const detail = {
                event: eventName,
                eventCategory: 'assessment',
                timestamp,
                assessmentId: state?.assessmentId,
                ...payload
            };

            window.dataLayer = window.dataLayer || [];
            window.dataLayer.push(detail);

            if (typeof window.gtag === 'function' && trackingState.config.googleAnalyticsId) {
                const gaPayload = {
                    ...payload,
                    event_category: payload.section ? `assessment_${payload.section}` : 'assessment',
                };
                if (state?.assessmentId) {
                    gaPayload.assessment_id = state.assessmentId;
                }

                if (payload.questionId && !gaPayload.event_label) {
                    gaPayload.event_label = payload.questionId;
                }

                if (typeof payload.totalScore === 'number' && gaPayload.value === undefined) {
                    gaPayload.value = payload.totalScore;
                }

                window.gtag('event', eventName, gaPayload);
            }

            if (typeof window.fbq === 'function' && trackingState.config.metaPixelId) {
                window.fbq('trackCustom', eventName, payload);
            }

            const linkedinConversionId = trackingState.config.linkedinEventIds?.[eventName];
            if (linkedinConversionId) {
                if (typeof window.lintrk === 'function') {
                    window.lintrk('track', { conversion_id: linkedinConversionId });
                } else {
                    trackingState.pendingLinkedInConversions.push(linkedinConversionId);
                }
            }
        }

        function trackQuestionAnswered(question, value) {
            if (!question) return;
            
            const payload = {
                questionId: question.id,
                section: question.section,
                questionType: question.type,
                step: state.currentQuestionIndex + 1,
                stage: 'questionnaire'
            };
            
            const isFreeText = ['text', 'textarea', 'email'].includes(question.type);
            if (isFreeText) {
                const cleanedLength = typeof value === 'string' ? value.trim().length : 0;
                payload.valueLength = cleanedLength;
                payload.valueProvided = cleanedLength > 0;
            } else if (Array.isArray(value)) {
                payload.value = value;
                payload.valueCount = value.length;
                payload.valueProvided = value.length > 0;
            } else if (hasValue(value)) {
                payload.value = value;
                payload.valueProvided = true;
            }
            
            dispatchTrackingEvent('question_answered', payload);
        }
        
        // State Management
        window.state = {
            currentQuestionIndex: 0,
            answers: {},
            scores: {
                reach: 0,
                relate: 0,
                respond: 0,
                retain: 0,
                total: 0
            },
            showWelcome: true,
            showResults: false,
            resultsTracked: false,
            assessmentId: generateAssessmentId(),
            phaseIntro: null,
            phaseIntroHistory: {}
        };
        persistAssessmentId(state.assessmentId);
        
        // Utility Functions
        function getVisibleQuestions() {
            return CONFIG.questions;
        }
        
        function getCurrentQuestion() {
            return getVisibleQuestions()[state.currentQuestionIndex];
        }
        
        function getSectionLabel(section) {
            const labels = {
                reach: 'Phase 1: Reach',
                relate: 'Phase 2: Relate',
                respond: 'Phase 3: Respond',
                retain: 'Phase 4: Retain',
                general: 'Allgemein'
            };
            return labels[section] || section;
        }
        
        function hasValue(value) {
            if (Array.isArray(value)) return value.length > 0;
            return value !== undefined && value !== null && value !== '';
        }

        function triggerPhaseIntroIfNeeded() {
            const currentQuestion = getCurrentQuestion();
            if (!currentQuestion) return;

            const section = currentQuestion.section;
            const intro = PHASE_INTROS[section];
            if (!intro) {
                state.phaseIntro = null;
                return;
            }

            if (state.phaseIntroHistory[section]) {
                state.phaseIntro = null;
                return;
            }

            const questions = getVisibleQuestions();
            const hasEarlierQuestionInSection = questions
                .slice(0, state.currentQuestionIndex)
                .some(q => q.section === section);

            if (!hasEarlierQuestionInSection) {
                state.phaseIntro = section;
            } else {
                state.phaseIntro = null;
            }
        }

        function renderPhaseIntro(section) {
            const intro = PHASE_INTROS[section];
            if (!intro) return '';
            return `
                <section class="question-card phase-overview">
                    <span class="phase-intro-eyebrow">${intro.eyebrow}</span>
                    <h3 class="phase-intro-title">${intro.title}</h3>
                    <p class="phase-intro-text">${intro.description}</p>
                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="continuePhaseIntro()">${UI_TEXT.continueButton}</button>
                    </div>
                </section>
            `;
        }

        function updateMultiSelectNextState(questionId) {
            const nextButton = document.querySelector(`[data-next-for="${questionId}"]`);
            if (!nextButton) return;
            const question = getVisibleQuestions().find(q => q.id === questionId);
            const requiresAnswer = question?.required !== false;
            const hasSelection = hasValue(state.answers[questionId]);

            if (!requiresAnswer || hasSelection) {
                nextButton.removeAttribute('disabled');
            } else {
                nextButton.setAttribute('disabled', 'disabled');
            }
        }

        function updateProgressUI() {
            const progressEl = document.getElementById('progress');
            if (!progressEl || progressEl.classList.contains('hidden')) return;
            progressEl.innerHTML = renderProgress();
        }
        
        function calculateProgress() {
            const total = getVisibleQuestions().length;
            const current = state.currentQuestionIndex + 1;
            return Math.round((current / total) * 100);
        }
        
        function calculateScores() {
            const scores = {
                reach: 0,
                relate: 0,
                respond: 0,
                retain: 0,
                total: 0
            };
            
            const scoredSections = ['reach', 'relate', 'respond', 'retain'];
            
            Object.keys(state.answers).forEach(questionId => {
                const question = CONFIG.questions.find(q => q.id === questionId);
                if (!question || !scoredSections.includes(question.section)) return;
                
                const answer = state.answers[questionId];
                const option = question.options?.find(o => o.value === answer);
                
                if (option && option.score !== undefined) {
                    scores[question.section] += option.score;
                }
            });
            
            scores.total = scores.reach + scores.relate + scores.respond + scores.retain;
            state.scores = scores;
            
            // Save to localStorage
            persistAssessmentId(state.assessmentId);
            try {
                localStorage.setItem('assessment_scores', JSON.stringify(scores));
                localStorage.setItem('assessment_answers', JSON.stringify(state.answers));
                localStorage.setItem('assessment_id', state.assessmentId);
            } catch (error) {
                console.warn('Could not persist assessment data', error);
            }
            
            return scores;
        }
        
        // Rendering Functions
        function renderProgress() {
            const questions = getVisibleQuestions();
            const currentQuestion = getCurrentQuestion();
            const total = questions.length;
            const currentIndex = state.currentQuestionIndex + 1;
            const answeredTotal = questions.reduce((sum, question) => (
                hasValue(state.answers[question.id]) ? sum + 1 : sum
            ), 0);
            const overallProgress = total ? Math.min(100, Math.round((answeredTotal / total) * 100)) : 0;
            const currentLabel = currentQuestion ? getSectionLabel(currentQuestion.section) : '';
            const questionText = total ? `Frage ${Math.min(currentIndex, total)} von ${total}` : '';
            const answeredText = total ? `${answeredTotal}/${total} beantwortet` : '';

            return `
                <div class="progress-container" role="region" aria-label="Assessment Fortschritt">
                    <div class="progress-labels">
                        <strong>${currentLabel || 'Assessment'}</strong>
                        <span aria-live="polite" aria-atomic="true">${questionText}</span>
                    </div>
                    <div class="progress-overall-track" role="progressbar" aria-label="Gesamtfortschritt" aria-valuenow="${overallProgress}" aria-valuemin="0" aria-valuemax="100">
                        <div class="progress-overall-fill" style="width: ${overallProgress}%"></div>
                    </div>
                    <div class="progress-labels secondary">
                        <span aria-live="polite">${answeredText}</span>
                    </div>
                </div>
            `;
        }
        
        function renderWelcome() {
            return `
                <section class="welcome-screen fade-in">
                    <div class="welcome-media">
                        <span class="welcome-media-badge">4R System</span>
                        <div class="welcome-media-photo">
                            <img 
                                src="https://brixongroup.com/wp-content/uploads/2025/09/Evoto-43-of-47-5.jpg" 
                                alt="Christoph Sauerborn" 
                                loading="lazy" 
                                decoding="async"
                            >
                        </div>
                        <h2 class="welcome-media-quote">"Marketing wird berechenbar, wenn Strategie, Inhalte und Vertrieb zusammenspielen."</h2>
                        <p class="welcome-media-text">Wir zeigen Ihnen, wo Momentum verschenkt wird und welche Schritte sofort Wirkung entfalten.</p>
                        <div class="welcome-meta">
                            <div class="welcome-avatar">CS</div>
                            <div>
                                <span class="welcome-meta-name">Christoph Sauerborn</span>
                                <span class="welcome-meta-role">Gründer - Brixon</span>
                            </div>
                        </div>
                    </div>
                    <div class="welcome-content">
                        <span class="welcome-eyebrow">Brixon 4R Assessment</span>
                        <h1>B2B Marketing Assessment</h1>
                        <p class="welcome-subtitle">Finden Sie heraus, wo Ihr Marketing steht – ehrlich, messbar und ohne Schnickschnack. Am Ende erhalten Sie klare Prioritäten, welches R der 4R-Phasen den größten Hebel bietet.</p>
                        <div class="welcome-stats">
                            <div class="welcome-duration">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"></circle>
                                    <polyline points="12 6 12 12 16 14"></polyline>
                                </svg>
                                8-12 Minuten
                            </div>
                            <span class="welcome-pill">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polygon fill="currentColor" stroke="none" points="12 3 14.2 9.2 21 9.9 16 14.3 17.6 21 12 17.6 6.4 21 8 14.3 3 9.9 9.8 9.2"></polygon>
                                </svg>
                                Individuelle Handlungsempfehlungen
                            </span>
                        </div>
                        <div class="welcome-cta-group">
                            <button class="btn btn-primary" onclick="startAssessment()" data-testid="button-start-assessment">
                                Assessment starten
                                <span class="arrow">→</span>
                            </button>
                            <p class="welcome-trust">Sie erhalten eine persönliche Auswertung mit Quick Wins für Reach, Relate, Respond und Retain – ideal, um sofort ins Handeln zu kommen.</p>
                        </div>
                    </div>
                </section>
            `;
        }
        
        function renderQuestion(question) {
            const questionIndex = getVisibleQuestions().findIndex(q => q.id === question.id);
            
            let optionsHtml = '';
            
            if (question.type === 'single' || question.type === 'yes_no') {
                optionsHtml = question.options.map(option => {
                    const isSelected = state.answers[question.id] === option.value;
                    return `
                        <label class="option ${isSelected ? 'selected' : ''}" data-testid="option-${option.value}">
                            <input 
                                type="radio" 
                                name="${question.id}" 
                                value="${option.value}"
                                ${isSelected ? 'checked' : ''}
                                onchange="handleAnswer('${question.id}', '${option.value}')"
                            >
                            <div class="option-radio"></div>
                            <span class="option-label">${option.label}</span>
                        </label>
                    `;
                }).join('');
            } else if (question.type === 'checkbox') {
                optionsHtml = question.options.map(option => {
                    const isSelected = state.answers[question.id] === option.value;
                    return `
                        <label class="option ${isSelected ? 'selected' : ''}" data-testid="option-${option.value}">
                            <input 
                                type="checkbox" 
                                name="${question.id}" 
                                value="${option.value}"
                                ${isSelected ? 'checked' : ''}
                                onchange="handleAnswer('${question.id}', this.checked ? '${option.value}' : '')"
                            >
                            <div class="option-checkbox"></div>
                            <span class="option-label">${option.label}</span>
                        </label>
                    `;
                }).join('');
            } else if (question.type === 'multi') {
                const currentValues = Array.isArray(state.answers[question.id]) ? state.answers[question.id] : [];
                optionsHtml = question.options.map(option => {
                    const isSelected = currentValues.includes(option.value);
                    return `
                        <label class="option ${isSelected ? 'selected' : ''}" data-testid="option-${option.value}" data-option-for="${question.id}-${option.value}">
                            <input 
                                type="checkbox" 
                                name="${question.id}" 
                                value="${option.value}"
                                ${isSelected ? 'checked' : ''}
                                onchange="handleMultiSelect('${question.id}', '${option.value}', this)"
                            >
                            <div class="option-checkbox"></div>
                            <span class="option-label">${option.label}</span>
                        </label>
                    `;
                }).join('');
            } else if (question.type === 'text' || question.type === 'email') {
                const value = state.answers[question.id] || '';
                optionsHtml = `
                    <div class="text-input-wrapper">
                        <input 
                            type="${question.type === 'email' ? 'email' : 'text'}" 
                            class="text-input" 
                            value="${value}"
                            placeholder="Ihre Antwort..."
                            oninput="handleAnswer('${question.id}', this.value)"
                            ${question.required ? 'required' : ''}
                            data-testid="input-${question.id}"
                        >
                    </div>
                `;
            } else if (question.type === 'textarea') {
                const value = state.answers[question.id] || '';
                const placeholder = question.placeholder || 'Ihre Antwort...';
                optionsHtml = `
                    <div class="text-input-wrapper">
                        <textarea 
                            class="text-input text-area" 
                            placeholder="${placeholder}"
                            oninput="handleAnswer('${question.id}', this.value)"
                            data-testid="input-${question.id}"
                        >${value}</textarea>
                    </div>
                `;
            }

            const previousButton = questionIndex > 0
                ? `<button class="btn btn-secondary" onclick="previousQuestion()" data-testid="button-previous">← Zurück</button>`
                : '';

            let navigationHtml = '';

            if (question.type === 'multi') {
                const requiresAnswer = question.required !== false;
                const hasSelection = hasValue(state.answers[question.id]);
                const nextDisabledAttr = requiresAnswer && !hasSelection ? 'disabled' : '';
                navigationHtml = `
                    <div class="btn-group justify-between">
                        ${previousButton || '<span></span>'}
                        <button class="btn btn-primary" ${nextDisabledAttr} data-next-for="${question.id}" onclick="nextQuestion()">
                            Weiter
                        </button>
                    </div>
                `;
            } else if (previousButton) {
                navigationHtml = `
                    <div class="btn-group">${previousButton}</div>
                `;
            }

            return `
                <div class="question-card">
                    <div class="question-number">Frage ${questionIndex + 1} von ${getVisibleQuestions().length}</div>
                    <h3 class="question-text">${question.text}</h3>
                    ${question.hint ? `<p class="question-hint">${question.hint}</p>` : ''}
                    <div class="options">
                        ${optionsHtml}
                    </div>
                    ${navigationHtml}
                </div>
            `;
        }
        
        function renderResults() {
            const scores = calculateScores();
            const maxScores = MAX_SCORES;
            
            const getInterpretation = (score, max, phase) => {
                const safeMax = Math.max(max, 1);
                const percentageRaw = (score / safeMax) * 100;
                const percentage = Math.max(0, Math.min(100, Math.round(percentageRaw)));
                const table = INTERPRETATION_MAP[phase] || [];
                const match = table.find(entry => percentage >= entry.min) || table[table.length - 1] || {
                    title: 'Status unbekannt',
                    description: 'Für diese Phase liegen keine Bewertungsdaten vor.'
                };
                return { ...match, percentage };
            };

            const phases = [
                { key: 'reach', badge: 'Phase 1', title: 'Reach', subtitle: 'Sichtbarkeit' },
                { key: 'relate', badge: 'Phase 2', title: 'Relate', subtitle: 'Vertrauen & Nurturing' },
                { key: 'respond', badge: 'Phase 3', title: 'Respond', subtitle: 'Sales Alignment' },
                { key: 'retain', badge: 'Phase 4', title: 'Retain', subtitle: 'Kundenbindung' }
            ];

            const phaseMetrics = phases.map(phase => {
                const max = maxScores[phase.key] || 0;
                const value = scores[phase.key] || 0;
                const interpretation = getInterpretation(value, max, phase.key);
                const percentage = interpretation.percentage;
                return { ...phase, max, value, interpretation, percentage };
            });

            const scorablePhases = phaseMetrics.filter(metric => metric.max > 0);
            const bestPhase = scorablePhases.reduce((best, current) => current.percentage > (best?.percentage ?? -1) ? current : best, null);
            const focusPhase = scorablePhases.reduce((worst, current) => current.percentage < (worst?.percentage ?? 101) ? current : worst, null);

            const overallMax = maxScores.total || 0;
            const overallPercentage = overallMax ? Math.min(100, Math.max(0, Math.round((scores.total / overallMax) * 100))) : 0;
            const overallInterpretation = OVERALL_INTERPRETATIONS.find(entry => overallPercentage >= entry.min) || OVERALL_INTERPRETATIONS[OVERALL_INTERPRETATIONS.length - 1];

            const highlightEntries = [];
            if (bestPhase) {
                highlightEntries.push({ label: 'Stärkste Phase', value: `${bestPhase.title} (${bestPhase.percentage}%)` });
            }
            if (focusPhase) {
                highlightEntries.push({ label: 'Größter Hebel', value: `${focusPhase.title} (${focusPhase.percentage}%)` });
            }
            const highlightsBlock = highlightEntries.length
                ? `
                    <div class="overview-highlights">
                        ${highlightEntries.map(entry => `<div class="overview-highlight"><span>${entry.label}</span><strong>${entry.value}</strong></div>`).join('')}
                    </div>
                `
                : '';

            const phaseCards = phaseMetrics.map(metric => {
                const progress = metric.max ? Math.min(100, Math.max(0, Math.round((metric.value / metric.max) * 100))) : 0;
                return `
                    <article class="phase-card fade-in" data-phase="${metric.key}">
                        <header class="phase-card-header">
                            <span class="phase-eyebrow">${metric.badge}</span>
                            <div>
                                <h3 class="phase-title">${metric.title}</h3>
                                <p class="phase-subtitle">${metric.subtitle}</p>
                            </div>
                        </header>
                        <div class="phase-score">
                            <span class="phase-score-value">${metric.value}</span>
                            <span class="phase-score-max">/ ${metric.max}</span>
                        </div>
                        <div class="phase-progress">
                            <div class="phase-progress-fill" style="width: ${progress}%"></div>
                        </div>
                        <div class="phase-percentage">${metric.interpretation.percentage}%</div>
                        <div class="phase-insight">
                            <div class="phase-insight-title">${metric.interpretation.title}</div>
                            <p class="phase-insight-text">${metric.interpretation.description}</p>
                        </div>
                    </article>
                `;
            }).join('');

            const recommendationsHtml = getRecommendations(scores);
            const recommendationsSection = recommendationsHtml
                ? `
                    <section class="results-recommendations fade-in">
                        <span class="section-eyebrow">Prioritäten</span>
                        <h3 class="section-title">Aktionen mit höchstem Hebel</h3>
                        <div class="recommendation-list">
                            ${recommendationsHtml}
                        </div>
                    </section>
                `
                : '';

            return `
                <div class="results-header fade-in">
                    <h1>${UI_TEXT.resultsTitle}</h1>
                    <p class="results-subtitle">${UI_TEXT.resultsSubtitle}</p>
                </div>
                
                <section class="results-overview fade-in">
                    <div class="overview-top">
                        <div class="overview-heading">
                            <span class="overview-eyebrow">Gesamtscore</span>
                            <h2 class="overview-title">Ihr Marketing-System</h2>
                            <p class="overview-subtitle">Alle Phasen im Zusammenspiel</p>
                        </div>
                        <div class="overview-score">
                            <div class="overview-score-row">
                                <span class="overview-score-value">${scores.total}</span>
                                <span class="overview-score-max">/ ${maxScores.total}</span>
                            </div>
                            <div class="overview-progress">
                                <div class="overview-progress-fill" style="width: ${overallPercentage}%"></div>
                            </div>
                            <div class="overview-percentage">${overallPercentage}%</div>
                        </div>
                    </div>
                    <div class="overview-insight">
                        <h3 class="overview-insight-title">${overallInterpretation.title}</h3>
                        <p class="overview-insight-text">${overallInterpretation.description}</p>
                    </div>
                    ${highlightsBlock}
                </section>

                <section class="phase-grid fade-in">
                    ${phaseCards}
                </section>

                <section class="results-chart fade-in">
                    <div class="chart-heading">
                        <span class="section-eyebrow">Radar</span>
                        <h3 class="chart-title">Phasenvergleich</h3>
                        <p class="chart-note">Die Achsen zeigen Ihren Fortschritt pro Phase in Prozent.</p>
                    </div>
                    <div class="chart-area">
                        <canvas id="radarChart"></canvas>
                    </div>
                </section>

                ${recommendationsSection}

                <section class="cta-section fade-in">
                    <div class="cta-content">
                        <span class="cta-eyebrow">${UI_TEXT.ctaEyebrow}</span>
                        <h2 class="cta-heading">${UI_TEXT.ctaHeading}</h2>
                        <p class="cta-text">${UI_TEXT.ctaText}</p>
                        <ul class="cta-list">
                            <li>Individuelle Einordnung Ihrer Assessment-Scores</li>
                            <li>Priorisierte Maßnahmen für schnelle Umsetzung</li>
                            <li>Konkrete Quick Wins ohne Verkaufsdruck</li>
                        </ul>
                        <a 
                            href="${buildCalendlyUrl()}" 
                            target="_blank" 
                            rel="noopener noreferrer" 
                            class="btn-cta" 
                            data-testid="button-calendly-cta"
                            onclick="handleCtaClick(event)"
                        >
                            Kostenfreien Termin sichern
                            <span class="arrow">→</span>
                        </a>
                    </div>
                    <div class="cta-media">
                        <img 
                            src="https://brixongroup.com/wp-content/uploads/2025/09/Evoto-43-of-47-5.jpg" 
                            alt="Christoph Sauerborn" 
                            class="cta-avatar" 
                            loading="lazy" 
                            decoding="async"
                        >
                    </div>
                </section>
            `;
        }
        
        function getRecommendations(scores) {
            const recommendationMatrix = {
                reach: [
                    {
                        threshold: 45,
                        title: 'Reach neu aufbauen',
                        text: 'LinkedIn-Profile, Website und Magnet-Angebote sichtbarer machen. Starten Sie mit geschärfter Positionierung, Content-Plan und einem klaren Leitfunnel.'
                    },
                    {
                        threshold: 70,
                        title: 'Content & Magneten ausbauen',
                        text: 'Ihre Präsenz ist spürbar, aber nicht konstant. Planen Sie redaktionelle Routinen, Paid-Experimente und mindestens ein Lead-Magnet-Update pro Quartal.'
                    }
                ],
                relate: [
                    {
                        threshold: 45,
                        title: 'Nurturing-Struktur etablieren',
                        text: 'Leads bleiben ohne Betreuung. Etablieren Sie CRM-Pflege, automatisierte Sequenzen und klare Übergaben vom Download zum Termin.'
                    },
                    {
                        threshold: 70,
                        title: 'Segmentierung vertiefen',
                        text: 'Segmentieren Sie nach Interesse und Verhalten, repurposen Sie Content und bauen Sie Journeys für jede Buyer-Persona.'
                    }
                ],
                respond: [
                    {
                        threshold: 45,
                        title: 'Sales-Alignment herstellen',
                        text: 'Definieren Sie gemeinsame KPIs, Response-SLAs und Pipeline-Meetings, damit keine Anfragen mehr liegen bleiben.'
                    },
                    {
                        threshold: 70,
                        title: 'Response-Zeit beschleunigen',
                        text: 'Beschleunigen Sie Feedback-Loops zwischen Marketing und Vertrieb, schärfen Sie Qualifikationskriterien und nutzen Sie Deal-Tracking.'
                    }
                ],
                retain: [
                    {
                        threshold: 45,
                        title: 'Bestandskunden aktivieren',
                        text: 'Starten Sie systematische Kundenprogramme: Zufriedenheit messen, Expansion-Trigger definieren und Referral-Incentives setzen.'
                    },
                    {
                        threshold: 70,
                        title: 'Customer Marketing systematisieren',
                        text: 'Standardisieren Sie Erfolgsgeschichten, QBRs und Customer-Marketing-Kampagnen, um Bestandskunden planbar zu aktivieren.'
                    }
                ]
            };

            const phaseMeta = {
                reach: { badge: 'Phase 1', title: 'Reach' },
                relate: { badge: 'Phase 2', title: 'Relate' },
                respond: { badge: 'Phase 3', title: 'Respond' },
                retain: { badge: 'Phase 4', title: 'Retain' },
                overall: { badge: 'System', title: 'Gesamtscore' }
            };

            const recommendations = [];

            const metrics = SCORING_SECTIONS.map(section => {
                const max = MAX_SCORES[section] || 0;
                const value = scores[section] || 0;
                const percentage = max ? Math.round((value / max) * 100) : 0;
                return { section, value, max, percentage };
            });

            metrics.forEach(metric => {
                const options = recommendationMatrix[metric.section] || [];
                const match = options.find(option => metric.percentage < option.threshold);
                if (match) {
                    const metaInfo = phaseMeta[metric.section] || {};
                    recommendations.push({
                        phase: metric.section,
                        phaseBadge: metaInfo.badge || '',
                        phaseTitle: metaInfo.title || '',
                        title: match.title,
                        text: match.text,
                        meta: `Aktueller Score: ${metric.percentage}%`
                    });
                }
            });

            if (recommendations.length === 0) {
                const totalMax = MAX_SCORES.total || 0;
                const totalPercentage = totalMax ? Math.round((scores.total / totalMax) * 100) : 0;
                const overallMeta = phaseMeta.overall;
                recommendations.push({
                    phase: 'overall',
                    phaseBadge: overallMeta.badge,
                    phaseTitle: overallMeta.title,
                    title: 'Starke Basis - jetzt skalieren',
                    text: 'Sie steuern Marketing bereits als System. Verdichten Sie KPIs und automatisieren Sie Reportings, damit Wachstum kalkulierbar bleibt.',
                    meta: `Aktueller Score: ${totalPercentage}%`
                });
            }
            
            return recommendations.map(rec => `
                <div class="recommendation-item" data-phase="${rec.phase || 'overall'}">
                    ${(rec.phaseBadge || rec.phaseTitle)
                        ? `<div class="recommendation-phase">
                                <span class="recommendation-phase-dot"></span>
                                ${rec.phaseBadge ? `<span class="recommendation-phase-badge">${rec.phaseBadge}</span>` : ''}
                                ${rec.phaseTitle ? `<strong>${rec.phaseTitle}</strong>` : ''}
                            </div>`
                        : ''
                    }
                    ${rec.meta ? `<div class="recommendation-meta">${rec.meta}</div>` : ''}
                    <div class="recommendation-title">${rec.title}</div>
                    <div class="recommendation-text">${rec.text}</div>
                </div>
            `).join('');
        }
        
        function drawRadarChart() {
            const canvas = document.getElementById('radarChart');
            if (!canvas) return;
            
            const ctx = canvas.getContext('2d');
            
            // Make canvas responsive
            const container = canvas.parentElement;
            const size = Math.min(container.clientWidth - 40, 500);
            canvas.width = size;
            canvas.height = size;
            
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = Math.min(centerX, centerY) - 60;
            
            const scores = state.scores;
            const maxScores = MAX_SCORES;
            const labels = ['Reach', 'Relate', 'Respond', 'Retain'];
            const values = [
                maxScores.reach ? Math.min(1, Math.max(0, scores.reach / maxScores.reach)) : 0,
                maxScores.relate ? Math.min(1, Math.max(0, scores.relate / maxScores.relate)) : 0,
                maxScores.respond ? Math.min(1, Math.max(0, scores.respond / maxScores.respond)) : 0,
                maxScores.retain ? Math.min(1, Math.max(0, scores.retain / maxScores.retain)) : 0
            ];
            
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // Draw grid
            ctx.strokeStyle = '#e5e5e5';
            ctx.lineWidth = 1;
            for (let i = 1; i <= 5; i++) {
                const r = (radius / 5) * i;
                ctx.beginPath();
                for (let j = 0; j < 4; j++) {
                    const angle = (Math.PI * 2 * j) / 4 - Math.PI / 2;
                    const x = centerX + Math.cos(angle) * r;
                    const y = centerY + Math.sin(angle) * r;
                    if (j === 0) ctx.moveTo(x, y);
                    else ctx.lineTo(x, y);
                }
                ctx.closePath();
                ctx.stroke();
            }
            
            // Draw axes
            ctx.strokeStyle = '#d4d4d4';
            ctx.lineWidth = 1;
            for (let i = 0; i < 4; i++) {
                const angle = (Math.PI * 2 * i) / 4 - Math.PI / 2;
                const x = centerX + Math.cos(angle) * radius;
                const y = centerY + Math.sin(angle) * radius;
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(x, y);
                ctx.stroke();
            }
            
            // Draw data
            ctx.fillStyle = 'rgba(10, 10, 10, 0.1)';
            ctx.strokeStyle = '#0a0a0a';
            ctx.lineWidth = 2;
            ctx.beginPath();
            for (let i = 0; i < values.length; i++) {
                const angle = (Math.PI * 2 * i) / values.length - Math.PI / 2;
                const r = radius * values[i];
                const x = centerX + Math.cos(angle) * r;
                const y = centerY + Math.sin(angle) * r;
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            ctx.closePath();
            ctx.fill();
            ctx.stroke();
            
            // Draw labels
            ctx.fillStyle = '#404040';
            ctx.font = '500 14px "area-normal", Sans-serif';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            for (let i = 0; i < labels.length; i++) {
                const angle = (Math.PI * 2 * i) / labels.length - Math.PI / 2;
                const x = centerX + Math.cos(angle) * (radius + 35);
                const y = centerY + Math.sin(angle) * (radius + 35);
                ctx.fillText(labels[i], x, y);
            }
        }
        
        function renderSuccess() {
            return `
                <div class="success-container fade-in">
                    <div class="success-icon">
                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="20 6 9 17 4 12"></polyline>
                        </svg>
                    </div>
                    <h2 class="success-title">${UI_TEXT.successTitle}</h2>
                    <p class="success-text">${UI_TEXT.successText}</p>
                    <button class="btn btn-primary" onclick="location.reload()" data-testid="button-new-assessment">
                        ${UI_TEXT.newAssessment}
                    </button>
                </div>
            `;
        }
        
        // Event Handlers
        function handleAnswer(questionId, value) {
            state.answers[questionId] = value;
            
            // Get the current question type to determine if we should auto-advance
            const currentQuestion = getCurrentQuestion();
            const shouldAutoAdvance = currentQuestion && (currentQuestion.type === 'single' || currentQuestion.type === 'yes_no');
            
            if (
                currentQuestion &&
                currentQuestion.id === questionId &&
                AUTO_TRACK_TYPES.has(currentQuestion.type) &&
                hasValue(value)
            ) {
                trackQuestionAnswered(currentQuestion, value);
            }
            
            if (currentQuestion?.type !== 'multi') {
                // Update visual state immediately
                render();
            } else {
                updateProgressUI();
            }

            if (currentQuestion?.type === 'multi') {
                updateMultiSelectNextState(currentQuestion.id);
            }
            
            // Auto-advance for single-choice questions
            if (shouldAutoAdvance) {
                const questionCard = document.querySelector('.question-card');
                if (questionCard) {
                    questionCard.classList.add('fade-out');
                }
                
                setTimeout(() => {
                    if (state.currentQuestionIndex < getVisibleQuestions().length - 1) {
                        state.currentQuestionIndex++;
                        render();
                        window.scrollTo(0, 0);
                    } else {
                        showResults();
                    }
                }, 300);
            }
        }

        function handleMultiSelect(questionId, optionValue, inputEl) {
            const isChecked = !!inputEl?.checked;
            const currentValues = Array.isArray(state.answers[questionId]) ? [...state.answers[questionId]] : [];
            const valueIndex = currentValues.indexOf(optionValue);

            if (isChecked) {
                if (valueIndex === -1) {
                    currentValues.push(optionValue);
                }
            } else if (valueIndex !== -1) {
                currentValues.splice(valueIndex, 1);
            }

            state.answers[questionId] = currentValues;

            const question = getVisibleQuestions().find(q => q.id === questionId);
            if (question) {
                trackQuestionAnswered(question, currentValues);
            }

            const optionLabel = inputEl?.closest('.option');
            if (optionLabel) {
                optionLabel.classList.toggle('selected', isChecked);
            }

            updateMultiSelectNextState(questionId);
            updateProgressUI();
        }

        function continuePhaseIntro() {
            const section = state.phaseIntro;
            if (section) {
                state.phaseIntroHistory[section] = true;
            }
            state.phaseIntro = null;
            render();
            window.scrollTo(0, 0);
        }
        
        function startAssessment() {
            state.assessmentId = generateAssessmentId();
            persistAssessmentId(state.assessmentId);
            state.answers = {};
            state.scores = {
                reach: 0,
                relate: 0,
                respond: 0,
                retain: 0,
                total: 0
            };
            try {
                localStorage.removeItem('assessment_answers');
                localStorage.removeItem('assessment_scores');
            } catch (error) {
                console.warn('Could not clear stored assessment data', error);
            }
            state.showWelcome = false;
            state.currentQuestionIndex = 0;
            state.resultsTracked = false;
            state.phaseIntroHistory = {};
            state.phaseIntro = null;
            triggerPhaseIntroIfNeeded();
            dispatchTrackingEvent('assessment_started', {
                totalQuestions: getVisibleQuestions().length,
                stage: 'questionnaire'
            });
            render();
            // Scroll to top immediately to prevent viewport jump
            window.scrollTo({ top: 0, behavior: 'instant' });
        }
        
        function nextQuestion() {
            const currentQ = getCurrentQuestion();
            if (!currentQ) return;
            
            const isAnswered = hasValue(state.answers[currentQ.id]);
            if (!isAnswered && currentQ.required !== false) return;
            
            if (!AUTO_TRACK_TYPES.has(currentQ.type)) {
                trackQuestionAnswered(currentQ, state.answers[currentQ.id]);
            }
            
            if (state.currentQuestionIndex < getVisibleQuestions().length - 1) {
                state.currentQuestionIndex++;
                triggerPhaseIntroIfNeeded();
                render();
                window.scrollTo(0, 0);
            } else {
                showResults();
            }
        }
        
        function previousQuestion() {
            if (state.currentQuestionIndex > 0) {
                state.currentQuestionIndex--;
                triggerPhaseIntroIfNeeded();
                render();
                window.scrollTo(0, 0);
            }
        }

        function handleCtaClick(event) {
            const latestScores = calculateScores();
            const bookingUrl = buildCalendlyUrl();

            if (event?.currentTarget && bookingUrl) {
                event.currentTarget.setAttribute('href', bookingUrl);
            }

            const payload = {
                destination: 'calendly',
                stage: 'results',
                assessmentId: state.assessmentId,
                href: bookingUrl || event?.currentTarget?.href || event?.target?.href || ''
            };

            if (latestScores) {
                payload.totalScore = latestScores.total;
                payload.reachScore = latestScores.reach;
                payload.relateScore = latestScores.relate;
                payload.respondScore = latestScores.respond;
                payload.retainScore = latestScores.retain;
            }

            dispatchTrackingEvent('cta_clicked', payload);
            sendBookingSnapshot(payload.href);
        }

        function showResults() {
            const scores = calculateScores();
            if (!state.resultsTracked) {
                const answeredCount = Object.values(state.answers).filter(hasValue).length;
                dispatchTrackingEvent('results_viewed', {
                    totalScore: scores.total,
                    reachScore: scores.reach,
                    relateScore: scores.relate,
                    respondScore: scores.respond,
                    retainScore: scores.retain,
                    questionsAnswered: answeredCount,
                    stage: 'results'
                });
                state.resultsTracked = true;
            }
            
            state.showResults = true;
            render();
            setTimeout(() => {
                drawRadarChart();
                
                // Add resize handler for responsive chart
                let resizeTimeout;
                window.addEventListener('resize', () => {
                    clearTimeout(resizeTimeout);
                    resizeTimeout = setTimeout(() => {
                        drawRadarChart();
                    }, 250);
                });
            }, 100);
        }
        
        async function submitResults() {
            const payload = {
                answers: state.answers,
                scores: state.scores,
                assessmentId: state.assessmentId,
                timestamp: new Date().toISOString()
            };

            // Validate webhook configuration
            if (!CONFIG.webhookUrl || CONFIG.webhookUrl === 'YOUR_WEBHOOK_URL_HERE') {
                console.warn('⚠️ Webhook URL not configured. Results will not be saved remotely. Please configure CONFIG.webhookUrl in production.');
            }

            // Try to send to webhook
            if (CONFIG.webhookUrl && CONFIG.webhookUrl !== 'YOUR_WEBHOOK_URL_HERE') {
                try {
                    const response = await fetch(CONFIG.webhookUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                } catch (error) {
                    console.error('Error sending to webhook:', error);
                    // Still show success to user, but log the error
                }
            }

            // Show success message
            document.getElementById('app').innerHTML = `
                <div class="container">
                    ${renderSuccess()}
                </div>
            `;
        }
        
        // Main Render Function
        function render() {
            const app = document.getElementById('app');
            
            if (state.showWelcome) {
                document.getElementById('progress').classList.add('hidden');
                app.innerHTML = `<div class="container-wide welcome-shell">${renderWelcome()}</div>`;
            } else if (state.showResults) {
                document.getElementById('progress').classList.add('hidden');
                app.innerHTML = `<div class="container-wide">${renderResults()}</div>`;
            } else {
                if (!state.phaseIntro) {
                    triggerPhaseIntroIfNeeded();
                }
                document.getElementById('progress').classList.remove('hidden');
                document.getElementById('progress').innerHTML = renderProgress();
                if (state.phaseIntro) {
                    app.innerHTML = `<div class="container">${renderPhaseIntro(state.phaseIntro)}</div>`;
                } else {
                    app.innerHTML = `<div class="container">${renderQuestion(getCurrentQuestion())}</div>`;
                    const currentQuestion = getCurrentQuestion();
                    if (currentQuestion?.type === 'multi') {
                        updateMultiSelectNextState(currentQuestion.id);
                    }
                }
            }
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initializeTracking();
            render();
            dispatchTrackingEvent('assessment_viewed', { stage: 'welcome' });
        });
    </script>
</head>
<body>
    <div class="progress-wrapper hidden" id="progress"></div>
    <div class="main-content" id="app"></div>
</body>
</html>
